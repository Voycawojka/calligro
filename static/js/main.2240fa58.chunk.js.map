{"version":3,"sources":["ui/generation/step1CharacterList/step1CharacterList.module.scss","ui/navbar/navbar.module.scss","ui/cookieNotice/cookieNotice.module.scss","utils/input.ts","ui/footer/footer.module.scss","ui/generation/step1/step1.module.scss","ui/header/header.module.scss","ui/author/author.module.scss","utils/canvasHelpers.ts","ui/policy/policy.module.scss","ui/misc/loader/loader.module.scss","generation/fs/zip.ts","utils/decorators.ts","generation/template/Template.ts","generation/template/slotDrawing.ts","ui/generation/step1CharacterList/Step1CharacterList.tsx","generation/template/download.ts","ui/generation/step1/Step1.tsx","ui/navbar/Navbar.tsx","ui/header/Header.tsx","ui/author/Author.tsx","ui/footer/Footer.tsx","ui/policy/Policy.tsx","ui/cookieNotice/CookieNotice.tsx","ui/misc/loader/Loader.tsx","App.tsx","reportWebVitals.ts","index.tsx","ui/misc/fa/Fa.tsx"],"names":["module","exports","standardizeNumericalInput","input","wrapText","ctx","text","maxWidth","split","map","paragraph","flatMap","words","lines","forEach","word","currentLine","length","measureText","join","width","push","createCanvas","height","color","canvas","document","createElement","getContext","Error","fillStyle","fillRect","drawWrappedText","options","x","y","size","maxHeight","trySize","font","line","i","fillText","convertToBlob","Promise","resolve","reject","toBlob","blob","downloadBlob","name","link","href","URL","createObjectURL","download","click","revokeObjectURL","remove","downloadArchive","files","a","archive","downloadZip","memoize","_target","_propertyKey","descriptor","targetFunction","value","get","Function","descriptorProp","cache","Map","args","key","JSON","stringify","cachedResult","result","apply","this","set","Template","slots","base","w","slotDim","h","index","Math","floor","textAlign","slot","getSlotPosition","vertMargin","strokeStyle","strokeRect","charRectX","charRectY","beginPath","moveTo","lineTo","stroke","clearRect","character","drawSlot","hMargin","payload","version","charCodeAt","btoa","ceil","sqrt","maxW","max","maxH","slotH","Step1CharacterList","props","charList","charSet","char","defaultWidth","defaultHeight","className","styles","characterContainer","aria-label","inputInvalid","type","onChange","event","handleDimensionChange","Fa","icon","times","buttonContainer","onClick","resetCharacterDimensions","button","undoButton","container","template","generateImageBlob","generateTemplateCode","defaultCharacters","Step1","state","setInitialState","storedData","window","localStorage","getItem","parsedData","parse","createCharArray","prevProps","prevState","setItem","Array","from","newCharArray","target","filter","isUniqueCharSet","Set","preventDefault","newCharSet","find","oldChar","setState","slotArray","every","standardizedBase","charString","valueName","newValue","parseInt","dimension","workSlot","downloadTemplate","heading","charactersLabelContainer","label","questionMark","title","resetCharacters","charactersResetButton","disabled","isCharsetDefault","charactersTextArea","handleCharSetInput","parameters","commonParameters","commonLabel","commonInput","handleDefaultValueChange","isBaseValid","commonInputIvalid","downloadButton","isSlotArrayValid","perCharacterParameters","instructionList","instructionListItem","to","Component","bind","Navbar","exact","navLink","navLinkLeft","activeClassName","navLinkActive","linkBig","linkSmall","navLinkRight","Header","src","alt","logo","sourceNoticeContainer","sourceNoticeLine1","sourceNoticeLine2","githubCorner","bannerColor","octoColor","Author","renderSocial","socialLinks","social","socialLink","url","socialContainer","Footer","policy","authors","linkContainer","Policy","policyContainer","menuLink","CookieNotice","acknowledged","Cookies","updateAnalytics","expires","analyticsStatus","gtag","analytics_storage","content","image","details","list","listItem","handleExit","Loader","timer","isLoaderOn","setTimeout","clearTimeout","Step2","React","lazy","App","path","fallback","reportWebVitals","onPerfEntry","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.2240fa58.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"step1CharacterList_container__2suRc\",\"character\":\"step1CharacterList_character__3-MFM\",\"input\":\"step1CharacterList_input__1t3rR\",\"inputInvalid\":\"step1CharacterList_inputInvalid__3-Gel\",\"times\":\"step1CharacterList_times__37cyf\",\"undoButton\":\"step1CharacterList_undoButton__2AK0J\",\"characterContainer\":\"step1CharacterList_characterContainer__2Rpww\",\"button\":\"step1CharacterList_button__1WKc4\",\"buttonContainer\":\"step1CharacterList_buttonContainer__1qLZa\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"navbar_container__2mYrz\",\"linkBig\":\"navbar_linkBig__1CiWe\",\"linkSmall\":\"navbar_linkSmall__3U_dr\",\"navLink\":\"navbar_navLink__lYMlZ\",\"navLinkLeft\":\"navbar_navLinkLeft__2tD8-\",\"navLinkRight\":\"navbar_navLinkRight__1FQnp\",\"navLinkActive\":\"navbar_navLinkActive__1z4La\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"cookieNotice_container__2ekSC\",\"heading\":\"cookieNotice_heading__vUvKO\",\"image\":\"cookieNotice_image__2wJ3y\",\"content\":\"cookieNotice_content__3HqBN\",\"list\":\"cookieNotice_list__1hg4D\",\"listItem\":\"cookieNotice_listItem__3GkmT\",\"link\":\"cookieNotice_link__38Uhh\",\"details\":\"cookieNotice_details__1BKmu\",\"linkContainer\":\"cookieNotice_linkContainer__18P_C\"};","export type NumInputValue = number | ''\n\nexport function standardizeNumericalInput(input: NumInputValue) : number {\n    return input === '' ? 0 : input\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"footer_container__2qBcC\",\"policy\":\"footer_policy__w7rxg\",\"link\":\"footer_link__gQPPx\",\"authors\":\"footer_authors__1Pupk\",\"linkContainer\":\"footer_linkContainer__3kxeW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"step1_container__2R46B\",\"parameters\":\"step1_parameters__2fhbG\",\"commonParameters\":\"step1_commonParameters__12krB\",\"perCharacterParameters\":\"step1_perCharacterParameters__187q6\",\"charactersLabelContainer\":\"step1_charactersLabelContainer__2_zeq\",\"charactersResetButton\":\"step1_charactersResetButton__1rVxQ\",\"charactersTextArea\":\"step1_charactersTextArea__1129O\",\"instructionList\":\"step1_instructionList__1yq3Z\",\"instructionListItem\":\"step1_instructionListItem__3ndrZ\",\"label\":\"step1_label__dvXqU\",\"commonLabel\":\"step1_commonLabel__1XEMl\",\"commonInput\":\"step1_commonInput__2xGXE\",\"commonInputIvalid\":\"step1_commonInputIvalid__1M86R\",\"heading\":\"step1_heading__3AIsF\",\"paragraph\":\"step1_paragraph__26hYp\",\"downloadButton\":\"step1_downloadButton__2Udaj\",\"times\":\"step1_times__2BpAi\",\"questionMark\":\"step1_questionMark__1F_q0\",\"commonContainer\":\"step1_commonContainer__3oXIY\",\"link\":\"step1_link__1D4An\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"header_container__3iV9Y\",\"sourceNoticeContainer\":\"header_sourceNoticeContainer__3debw\",\"sourceNoticeLine1\":\"header_sourceNoticeLine1__2dpGN\",\"sourceNoticeLine2\":\"header_sourceNoticeLine2__1SD3C\",\"logo\":\"header_logo__1NKnM\",\"githubCorner\":\"header_githubCorner__i9m_i\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"author_container__Qvl5M\",\"socialLink\":\"author_socialLink__1xWOs\",\"name\":\"author_name__uFPT4\",\"socialContainer\":\"author_socialContainer__3Ftd3\",\"icon\":\"author_icon__1sPpI\"};","function wrapText(ctx: CanvasRenderingContext2D, text: string, maxWidth: number): string[] {\n    return text\n        .split('\\n')\n        .map(paragraph => paragraph.split(' '))\n        .flatMap(words => {\n            const lines: string[][] = [[]]\n\n            words.forEach(word => {\n                const currentLine = lines[lines.length-1]\n                const width = ctx.measureText(`${currentLine.join(' ')} ${word}`).width\n\n                if (width < maxWidth) {\n                    currentLine.push(word)\n                } else {\n                    lines.push([word])\n                }\n            })\n\n            return lines.map(words => words.join(' '))\n        })\n}\n\nexport function createCanvas(width: number, height: number, color?: string): [HTMLCanvasElement, CanvasRenderingContext2D] {\n    const canvas = document.createElement('canvas')\n    canvas.width = width\n    canvas.height = height\n\n    const ctx = canvas.getContext('2d')\n\n    if (!ctx) {\n        throw new Error('Your browser doesn\\'t support 2d canvas context. Use a modern browser, please.')\n    }\n\n    if (color) {\n        ctx.fillStyle = color\n        ctx.fillRect(0, 0, canvas.width, canvas.height)\n    }\n\n    return [canvas, ctx]\n}\n\ntype DrawWrappedTextOptions = {\n    x: number,\n    y: number,\n    size: number,\n    maxWidth: number,\n    maxHeight?: number\n}\n\nexport function drawWrappedText(ctx: CanvasRenderingContext2D, text: string, options: DrawWrappedTextOptions): void {\n    const { x, y, size, maxWidth, maxHeight } = options\n    let trySize = size\n\n    ctx.font = `${trySize}px serif`\n    let lines = wrapText(ctx, text, maxWidth)\n\n    if (maxHeight) {\n        while (lines.length * trySize >= maxHeight) {\n            trySize --\n\n            ctx.font = `${trySize}px serif`\n            lines = wrapText(ctx, text, maxWidth)\n        }\n    }\n\n    lines.forEach((line, i) => ctx.fillText(line, x, y + i * trySize, maxWidth))\n}\n\nexport function convertToBlob(canvas: HTMLCanvasElement): Promise<Blob> {\n    return new Promise((resolve, reject) => {\n        canvas.toBlob(blob => !!blob ? resolve(blob) : reject())\n    })\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"policyContainer\":\"policy_policyContainer__2V2gt\",\"menuLink\":\"policy_menuLink__2gWKV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"loader_container__uCYfU\",\"icon\":\"loader_icon__1ZW5k\"};","import { downloadZip } from 'client-zip'\n\nfunction downloadBlob(name: string, blob: Blob): void {\n    const link = document.createElement('a')\n    link.href = URL.createObjectURL(blob)\n    link.download = name\n    link.click()\n\n    URL.revokeObjectURL(link.href)\n    link.remove()\n}\n\nexport interface ZippedFile {\n    name: string\n    input: string | Blob\n}\n\nexport async function downloadArchive(name: string, files: ZippedFile[]): Promise<void> {\n    const archive = downloadZip(files)\n    const blob = await archive.blob()\n\n    downloadBlob(`${name}.zip`, blob)\n}\n","export function memoize(_target: Object, _propertyKey: string, descriptor: PropertyDescriptor): void {\n    const targetFunction = descriptor.value ?? descriptor.get\n\n    if (!targetFunction || !(targetFunction instanceof Function)) {\n        throw Error('Memoize only supports non-setter functions.')\n    }\n\n    const descriptorProp = !!descriptor.value ? 'value' : 'get'\n    const cache = new Map<String, any>();\n\n    descriptor[descriptorProp] = function (...args: any[]) {\n        const key = JSON.stringify(args)\n        const cachedResult = cache.get(key)\n        const result = !!cachedResult ? cachedResult : targetFunction.apply(this, args)\n\n        cache.set(key, result)\n\n        return result\n    }\n}\n","import { convertToBlob, createCanvas } from '../../utils/canvasHelpers'\nimport { CodePayload, Slot } from './types'\nimport { drawInfo, drawSlot } from './slotDrawing'\nimport { memoize } from '../../utils/decorators'\n\nexport default class Template {\n    private readonly canvas: HTMLCanvasElement\n    private readonly ctx: CanvasRenderingContext2D\n\n    constructor(private readonly slots: Slot[], private readonly base: number) {\n        [this.canvas, this.ctx] = createCanvas(this.w * this.slotDim.w, this.h * this.slotDim.h, 'white')\n    }\n\n    @memoize\n    private get w(): number {\n        return Math.ceil(Math.sqrt(this.slots.length + 1))\n    }\n\n    @memoize\n    private get h(): number {\n        return Math.ceil(Math.sqrt(this.slots.length + 1))\n    }\n\n    @memoize\n    public get slotDim(): { w: number, h: number, hMargin: number } {\n        const maxW = Math.max.apply(null, this.slots.map(slot => slot.width))\n        const maxH = Math.max.apply(null, this.slots.map(slot => slot.height))\n\n        const slotW = maxW * 1.3\n        const slotH = maxH * 1.3\n        const vertMargin = (slotH - maxH) / 2\n\n        return { w: slotW, h: slotH, hMargin: vertMargin }\n    }\n\n    public getSlotPosition(index: number): { x: number, y: number } {\n        return {\n            x: (index % this.w) * this.slotDim.w,\n            y: Math.floor(index / this.w) * this.slotDim.h\n        }\n    }\n\n    @memoize\n    public generateImageBlob(): Promise<Blob> {\n        drawInfo(this.ctx, 0, 0, this.slotDim.w, this.slotDim.h)\n    \n        this.slots.forEach((slot, index) => {\n            const { x, y } = this.getSlotPosition(index + 1)\n\n            drawSlot(this.ctx, slot, {\n                x,\n                y,\n                w: this.slotDim.w,\n                h: this.slotDim.h,\n                base: this.base,\n                vertMargin: this.slotDim.hMargin\n            })\n        })\n\n        return convertToBlob(this.canvas)\n    }\n    \n    @memoize\n    public generateTemplateCode(): string {\n        const payload: CodePayload = {\n            version: 0,\n            slots: this.slots.map(slot => ([slot.character.charCodeAt(0), slot.width, slot.height])),\n            base: this.base\n        }\n\n        return btoa(JSON.stringify(payload))\n    }\n}\n","import { drawWrappedText } from '../../utils/canvasHelpers'\nimport { Slot } from './types'\n\ntype DrawSlotOptions = {\n    x: number,\n    y: number,\n    w: number,\n    h: number,\n    base: number,\n    vertMargin: number\n}\n\nexport function drawSlot(ctx: CanvasRenderingContext2D, slot: Slot, options: DrawSlotOptions): void {\n    const { x, y, w, h, base, vertMargin } = options\n\n    ctx.strokeStyle = 'black'\n    ctx.strokeRect(x, y, w, h)\n\n    const charRectX = x + w / 2 - slot.width / 2\n    const charRectY = y + h / 2 - slot.height / 2\n\n    ctx.strokeStyle = 'green'\n    ctx.beginPath()\n    ctx.moveTo(x, charRectY + base)\n    ctx.lineTo(x + w, charRectY + base)\n    ctx.stroke()\n\n    ctx.strokeStyle = 'red'\n    ctx.clearRect(charRectX, charRectY, slot.width, slot.height)\n    ctx.strokeRect(charRectX, charRectY, slot.width, slot.height)\n\n    ctx.fillStyle = 'black'\n    ctx.font = `${vertMargin * 0.8}px serif`\n    ctx.textAlign = 'center'\n    ctx.fillText(slot.character, x + w / 2, y + h - vertMargin / 4, w)\n}\n\nexport function drawInfo(ctx: CanvasRenderingContext2D, x: number, y: number, w: number, h: number): void {\n    const info = `1) Draw characters inside the red boundaries*.\n\n2) Upload this file back to Calligro\n\n3) Paste the template code and you got yourself a font\n\n*Green lines signify the letter base.`\n\n    ctx.fillStyle = 'black'\n    ctx.textAlign = 'left'\n    drawWrappedText(ctx, info, {\n        x: x + w * 0.05,\n        y: y + h * 0.1,\n        maxWidth: w * 0.9,\n        maxHeight: h * 0.8,\n        size: h / 5\n    })\n}\n","import React from 'react'\nimport { WorkSlot } from '../../../generation/template/types'\nimport Fa from '../../misc/fa/Fa'\nimport styles from './step1CharacterList.module.scss'\nimport { NumInputValue, standardizeNumericalInput } from '../../../utils/input'\n\ninterface Step1CharacterListProps {\n    charSet: WorkSlot[]\n    handleDimensionChange: (event: React.ChangeEvent<HTMLInputElement>, dimension: 'width' | 'height', char: WorkSlot) => void\n    resetCharacterDimensions: (char: WorkSlot) => void\n    defaultWidth: NumInputValue\n    defaultHeight: NumInputValue\n}\n\nfunction Step1CharacterList (props: Step1CharacterListProps) {\n    const charList = props.charSet.map(char => {\n        const width = char.width ?? props.defaultWidth\n        const height = char.height ?? props.defaultHeight\n\n        return (\n            <div key={char.character} className={styles.characterContainer}>\n                <p className={styles.character}>{char.character}</p>\n                <input\n                    aria-label={`${char.character} width input`}\n                    className={`${styles.input} ${standardizeNumericalInput(width) <= 0 ? styles.inputInvalid : ''}`}\n                    type='number'\n                    value={width}\n                    onChange={(event) => props.handleDimensionChange(event, 'width', char)}\n                />\n                <Fa icon='fas fa-times' className={styles.times} />\n                <input\n                    aria-label={`${char.character} height input`}\n                    className={`${styles.input} ${standardizeNumericalInput(height) <= 0 ? styles.inputInvalid : ''}`}\n                    type='number'\n                    value={height}\n                    onChange={(event) => props.handleDimensionChange(event, 'height', char)}\n                />\n\n                {\n                    (!!char.height || !!char.width) || (standardizeNumericalInput(width) <= 0 || standardizeNumericalInput(height) <= 0)\n                    ? <span className={styles.buttonContainer}>\n                        <button onClick={() => props.resetCharacterDimensions(char)} className={styles.button}>\n                            <Fa icon='fas fa-undo' className={styles.undoButton} />\n                        </button>\n                    </span >\n                    : null\n                }\n            </div>\n        )\n    })\n\n    return (\n        <div className={styles.container}>\n            {charList}\n        </div>\n    )\n}\n\nexport default Step1CharacterList\n","import { downloadArchive, ZippedFile } from '../fs/zip'\nimport Template from './Template'\n\nexport async function downloadTemplate(template: Template): Promise<void> {\n    const files: ZippedFile[] = [\n        {\n            name: 'template.png',\n            input: await template.generateImageBlob()\n        },\n        {\n            name: 'template code.txt',\n            input: template.generateTemplateCode()\n        }\n    ]\n\n    return downloadArchive('calligro-template', files)\n}\n","import React, { Component } from 'react'\nimport { bind } from 'helpful-decorators'\nimport Step1CharacterList from '../step1CharacterList/Step1CharacterList'\nimport { WorkSlot, Slot } from '../../../generation/template/types'\nimport Template from '../../../generation/template/Template'\nimport { downloadTemplate } from '../../../generation/template/download'\nimport styles from './step1.module.scss'\nimport Fa from '../../misc//fa/Fa'\nimport { Link } from 'react-router-dom'\nimport { NumInputValue, standardizeNumericalInput } from '../../../utils/input'\n\ninterface Step1State {\n    charSet: WorkSlot[]\n    defaultWidth: NumInputValue\n    defaultHeight: NumInputValue\n    base: NumInputValue\n}\n\nconst defaultCharacters = 'AaBbCcDdEeFfGgHhIiJjKkLlMmNnOoPpQqRrSsTtUuVvWwXxYyZz.?!,:'\n\nclass Step1 extends Component<{}, Step1State> {\n    constructor(props: {}) {\n        super(props)\n\n        this.state = this.setInitialState()\n    }\n\n    setInitialState(): Step1State {\n        const storedData = window.localStorage.getItem('settings')\n        const parsedData: Step1State = storedData ? JSON.parse(storedData) : null\n\n        return ({\n            charSet: parsedData?.charSet ?? this.createCharArray(),\n            defaultWidth: parsedData?.defaultWidth ?? 200,\n            defaultHeight: parsedData?.defaultHeight ?? 200,\n            base: parsedData?.base ?? 100\n        })\n    }\n\n    componentDidUpdate(prevProps: {}, prevState: Step1State) {\n        if (prevState !== this.state) {\n            window.localStorage.setItem('settings', JSON.stringify(this.state))\n        }\n    }\n\n    createCharArray(): WorkSlot[] {\n        return Array.from(defaultCharacters, (character: string) => ({ character }))\n    }\n\n    @bind\n    handleCharSetInput(event: React.ChangeEvent<HTMLTextAreaElement>) {\n        const newCharArray = event.target.value.split(\"\").filter(char => char !== \" \")\n        const isUniqueCharSet = new Set(newCharArray).size === newCharArray.length\n\n        event.preventDefault()\n\n        if (isUniqueCharSet) {\n            const newCharSet: WorkSlot[] = newCharArray.map(character => {\n                return this.state.charSet.find(oldChar => oldChar.character === character) ?? { character }\n            })\n\n            this.setState({\n                charSet: newCharSet\n            })\n        }\n    }\n\n    get slotArray(): Slot[] {\n        return this.state.charSet.map(workSlot => ({\n            character: workSlot.character,\n            width: standardizeNumericalInput(workSlot.width ?? this.state.defaultWidth),\n            height: standardizeNumericalInput(workSlot.height ?? this.state.defaultHeight)\n        }))\n    }\n\n    get charString(): string {\n        return this.state.charSet.map(char => char.character).join(\"\")\n    }\n\n    @bind\n    isSlotArrayValid(): boolean {\n        return this.slotArray.every(slot => slot.height > 0 && slot.width > 0)\n    }\n\n    @bind\n    isBaseValid(): boolean {\n        const standardizedBase: number = standardizeNumericalInput(this.state.base)\n        const standardizedHeight: number = standardizeNumericalInput(this.state.defaultHeight)\n\n        return standardizedBase <= standardizedHeight && standardizedBase >= 0\n    }\n\n    @bind\n    isCharsetDefault(): boolean {\n        return this.charString === defaultCharacters\n    }\n\n    @bind\n    handleDefaultValueChange(event: React.ChangeEvent<HTMLInputElement>, valueName: 'defaultWidth' | 'defaultHeight' | 'base') {\n        const newValue = event.target.value === '' ? '' : parseInt(event.target.value, 10)\n\n        this.setState(prevState => ({\n            ...prevState,\n            [valueName]: newValue\n        }))\n    }\n  \n    @bind\n    handleDimensionChange(event: React.ChangeEvent<HTMLInputElement>, dimension: 'width' | 'height', char: WorkSlot) {\n        const newValue = event.target.value === '' ? '' : parseInt(event.target.value, 10)\n        const newCharSet: WorkSlot[] = this.state.charSet.map(character => character === char\n            ? {\n                ...character,\n                [dimension] : newValue\n            }\n            : character\n        )\n\n        this.setState({\n            charSet: newCharSet\n        })\n        \n    }\n\n    @bind\n    resetCharacterDimensions(char: WorkSlot) {\n        const newCharSet =  this.state.charSet.map(workSlot => char === workSlot ? { character: workSlot.character } : workSlot)\n\n        this.setState({\n            charSet: newCharSet\n        })\n    }\n\n    @bind\n    resetCharacters() {\n        this.setState({\n            charSet: this.createCharArray()\n        })\n    }\n\n    @bind\n    downloadTemplate() {\n        const template = new Template(this.slotArray, standardizeNumericalInput(this.state.base))\n\n        downloadTemplate(template)\n    }\n\n    render() {\n        return (\n            <div className={styles.container}>\n                <div>\n                    <div>\n                        <h2 className={styles.heading}>Generate bitmap fonts in the <a href='https://www.angelcode.com/products/bmfont/doc/file_format.html' className={styles.link}>BMFont</a> format.</h2>\n                        <p className={styles.paragraph}>Calligro lets you generate custom fonts from images created in graphics software like Gimp, Photoshop, Aseprite and others.</p>\n                        <p className={styles.paragraph}>\n                            If you’re looking to convert a truetype font into a BMFont, try tools like the\n                            original <a href='https://www.angelcode.com/products/bmfont/' className={styles.link}>BMFont</a> or <a href='https://github.com/libgdx/libgdx/wiki/Hiero' className={styles.link}>Hiero</a> instead.\n                        </p>\n                    </div>\n\n                    <div>\n                        <div className={styles.charactersLabelContainer}>\n                            <label className={styles.label}>\n                                Characters\n                                <Fa\n                                    icon='fas fa-question'\n                                    className={styles.questionMark}\n                                    title='Characters you want to be included in the final font (all unicode characters should work)'\n                                />\n                            </label>\n                            <button\n                                title='Reset characters to default values'\n                                onClick={this.resetCharacters}\n                                className={styles.charactersResetButton}\n                                disabled={this.isCharsetDefault()}\n                            >\n                                <Fa icon='fas fa-undo' />\n                            </button>\n                        </div>\n                        <textarea\n                            aria-label='characters input'\n                            className={styles.charactersTextArea}\n                            onChange={this.handleCharSetInput}\n                            value={this.charString}\n                        />\n                    </div>\n\n                    <div className={styles.parameters}>\n                        <div className={styles.commonParameters}>\n                            <div>\n                                <label className={styles.label}>Common</label>\n                                <label className={styles.commonLabel}>Size</label>\n                                <input\n                                    aria-label='default width input'\n                                    className={styles.commonInput}\n                                    type='number'\n                                    onChange={event => this.handleDefaultValueChange(event, 'defaultWidth')}\n                                    value={this.state.defaultWidth}\n                                />\n                                <Fa icon='fas fa-times' className={styles.times}/>\n                                <input\n                                    aria-label='default height input'\n                                    className={styles.commonInput}\n                                    type='number'\n                                    onChange={event => this.handleDefaultValueChange(event, 'defaultHeight')}\n                                    value={this.state.defaultHeight}\n                                />\n                                <Fa icon='fas fa-question' className={styles.questionMark} title='Default size of one character in pixels'/>\n                            </div>\n                            \n                            <div>\n                                <label className={styles.commonLabel}>Base</label>\n                                <input\n                                    aria-label='characters base input'\n                                    className={`${styles.commonInput} ${this.isBaseValid() ? \"\" : styles.commonInputIvalid}`}\n                                    type='number'\n                                    onChange={event => this.handleDefaultValueChange(event, 'base')}\n                                    value={this.state.base}\n                                />\n                                <Fa\n                                    icon='fas fa-question'\n                                    className={styles.questionMark}\n                                    title='Distance from the top of the letter to the line base in pixels (character parts below this will stick out like in \"g\" or \"j\")'\n                                />\n                            </div>\n\n                            <button\n                                onClick={this.downloadTemplate}\n                                className={styles.downloadButton}\n                                disabled={!this.isSlotArrayValid() || !this.isBaseValid()}\n                            >\n                                download template\n                            </button>\n                        </div>\n\n                        <div className={styles.perCharacterParameters} >\n                            <label className={styles.label}>\n                                Per character\n                                <Fa\n                                    icon='fas fa-question'\n                                    className={styles.questionMark}\n                                    title='Override default size per character'\n                                />\n                            </label>\n\n                            <Step1CharacterList\n                                charSet={this.state.charSet}\n                                defaultHeight={this.state.defaultHeight}\n                                defaultWidth={this.state.defaultWidth}\n                                handleDimensionChange={this.handleDimensionChange}\n                                resetCharacterDimensions={this.resetCharacterDimensions}\n                            />\n                        </div>\n                    </div>\n                </div>\n                \n\n                <div>\n                    <h2 className={styles.heading}>Step 1 - Create a template</h2>\n                    <ol className={styles.instructionList}>\n                        <li className={styles.instructionListItem}> Specify what characters you want included in the final font. </li>\n                        <li className={styles.instructionListItem}>Choose the character size and base.</li>\n                        <li className={styles.instructionListItem}>Optionally override the size per character if you want some to be smaller or bigger than the rest.</li>\n                        <li className={styles.instructionListItem}>Download the generated template. It’s a zip archive containing two files: png and txt. Open the png in your graphics editor of choice and draw characters inside the red boundaries.</li>\n                        <li className={styles.instructionListItem}>Go to <Link to='/step2' className={styles.link}>Step 2</Link> to upload the template and generate your font.</li>\n                    </ol>\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default Step1\n","import React from 'react'\nimport { NavLink } from 'react-router-dom'\nimport styles from './navbar.module.scss'\n\nfunction Navbar() {\n    return (\n        <nav className={styles.container}>\n            <NavLink exact to='/' className={`${styles.navLink} ${styles.navLinkLeft}`} activeClassName={styles.navLinkActive}>\n                <p className={styles.linkBig}>Step 1</p>\n                <p className={styles.linkSmall}>create a template</p>\n            </NavLink>\n            <NavLink to='/step2' className={`${styles.navLink} ${styles.navLinkRight}`} activeClassName={styles.navLinkActive}>\n                <p className={styles.linkBig}>Step 2</p>\n                <p className={styles.linkSmall}>generate your font</p>\n            </NavLink>\n        </nav>\n    )\n}\n\nexport default Navbar\n","import React from 'react'\nimport Navbar from '../navbar/Navbar'\nimport styles from './header.module.scss'\nimport GithubCorner from 'react-github-corner'\n\nfunction Header() {\n    return (\n        <div className={styles.container}>\n            <img src='logo.svg' alt='logo' className={styles.logo} />\n            <Navbar />\n            <div className={styles.sourceNoticeContainer}>\n                <p className={styles.sourceNoticeLine1}>We're open source!</p>\n                <p className={styles.sourceNoticeLine2}>Feel free to contribute :D</p>\n            </div>\n            <GithubCorner className={styles.githubCorner} href='https://github.com/Voycawojka/calligro' size='110' bannerColor='#707070' octoColor='#202020' />\n        </div>\n    )\n}\n\nexport default Header\n","import React from 'react'\nimport styles from './author.module.scss'\nimport Fa from '../misc/fa/Fa'\n\ninterface Social {\n    icon: string\n    url: string\n    label: string\n}\n\ninterface AuthorProps {\n    name: string\n    socialLinks: Social[]\n}\n\nfunction Author(props: AuthorProps) {\n    const renderSocial = props.socialLinks.map(social =>\n        <a className={styles.socialLink} href={social.url} key={social.url} aria-label={social.label} >\n            <Fa icon={social.icon} className={styles.icon} />\n        </a>\n    )\n\n    return (\n        <div className={styles.container}>\n            <h3 className={styles.name}>{props.name}</h3>\n            <div className={styles.socialContainer}>\n                {renderSocial}\n            </div>\n        </div>\n    )\n}\n\nexport default Author\n","import React from 'react'\nimport { Link } from 'react-router-dom'\nimport Author from '../author/Author'\nimport styles from './footer.module.scss'\n\nfunction Footer() {\n    return (\n        <footer className={styles.container}>\n            <Link to='/policy' className={`${styles.policy} ${styles.link}`}>Privacy policy</Link>\n            <div className={styles.authors}>\n                <Author\n                    name='Filip A. Kowalski'\n                    socialLinks={[\n                        {\n                            url: 'http://ideasalmanac.com',\n                            icon: 'fa fa-globe-africa',\n                            label: 'ideasalmanac'\n                        },\n                        {\n                            url: 'https://twitter.com/IdeasAlmanac',\n                            icon: 'fab fa-twitter',\n                            label: 'twitter'\n                        },\n                        {\n                            url: 'https://github.com/Voycawojka',\n                            icon: 'fab fa-github',\n                            label: 'github'\n                        }\n                    ]}\n                />\n                <Author\n                    name='Dominik Józefiak'\n                    socialLinks={[\n                        {\n                            url: 'https://github.com/domlj',\n                            icon: 'fab fa-github',\n                            label: 'github'\n                        }\n                    ]}\n                />\n            </div>\n            \n            <div className={styles.linkContainer}>\n                <a href='https://github.com/Voycawojka/calligro/issues' className={styles.link}>Found a bug?</a>\n                <a href='https://github.com/Voycawojka/calligro/issues' className={styles.link}>Have a feature request?</a>\n            </div>\n        </footer>\n    )\n}\n\nexport default Footer\n","import React from 'react'\nimport { Link } from 'react-router-dom'\nimport styles from './policy.module.scss'\n\nfunction Policy() {\n    return (\n        <div className={styles.policyContainer}>\n            <h1>Calligro Privacy Policy</h1>\n            <p>\n                Calligro is an open source tool served on a static web server (Github Pages).\n                We don't ask for nor collect any personal data.\n                All information provided (and all files uploaded) by the user stay inside the user's browser.\n            </p>\n            \n            <h2>Cookies and local storage</h2>\n            <p>\n                We use cookies and local storage (small files and pieces of data stored on the user's device) for two pursposes:\n            </p>\n                <ul>\n                    <li>user's convenience (e.g. to rememeber last chosen settings),</li>\n                    <li>analytics (more in the Analytics section below)</li>\n                </ul>\n            <p>\n                Browsers allow users to view, remove or even entirely block cookies.\n                Check your browser's manual to access those options.\n            </p>\n            \n            <h2>Analytics</h2>\n            <p>\n                We use Google Analytics for analytics purposes.\n                Therefore, all analytics data is stored on Google's servers.\n            </p>\n            <p>\n                By default, we don't allow Google Analytics to use analytics or ad related tracking cookies.\n                If you consent by clicking Accept on our cookie popup, we use analytics related cookies for better insight.\n                We don't use ad related cookies regardless of consent.\n            </p>\n            \n            <h2>About this policy</h2>\n            <p>\n                Please note we can change this privacy policy without notice.\n            </p>\n\n\n            <Link to='/' className={styles.menuLink}>Back to Calligro</Link>\n        </div>\n    )\n}\n\nexport default Policy\n","import React, { Component } from 'react'\nimport Cookies from 'js-cookie'\nimport styles from './cookieNotice.module.scss'\nimport { Link } from 'react-router-dom'\nimport { bind } from 'helpful-decorators'\n\ninterface CookieNoticeState {\n    acknowledged: boolean\n}\n\nclass CookieNotice extends Component<{}, CookieNoticeState> {\n    constructor(props: {}) {\n        super(props)\n        this.state = {\n            acknowledged: false\n        }\n    }\n\n    componentDidMount() {\n        this.setState({\n            acknowledged: Cookies.get('cookies-acknowledged') === 'true'\n        }, this.updateAnalytics)\n    }\n\n    @bind\n    handleExit() {\n        Cookies.set('cookies-acknowledged', 'true', { expires: 1000 })\n\n        this.setState({\n            acknowledged: true\n        }, this.updateAnalytics)\n    }\n\n    @bind\n    updateAnalytics() {\n        const analyticsStatus = this.state.acknowledged ? 'granted' : 'denied'\n\n        window.gtag('consent', 'update', {\n            analytics_storage: analyticsStatus\n        });\n    }\n\n    render () {\n        if (!this.state.acknowledged) {\n            return (\n                <div className={styles.container}>\n                    <h2 className={styles.heading}>We use cookies</h2>\n                    <div className={styles.content}>\n                        <img className={styles.image} src='cookie.svg' alt='cookie'/>\n                        <div className={styles.details}>\n                            <ul className={styles.list}>\n                                <li className={styles.listItem}>for your convienience</li>\n                                <li className={styles.listItem}>for analytics</li>\n                            </ul>\n\n                            <div className={styles.linkContainer}>\n                                <Link to='/policy' className={styles.link}>Learn more</Link>\n                                <button onClick={this.handleExit} className={styles.link} >Accept</button>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            )\n        } else {\n            return null\n        }\n    }\n}\n\nexport default CookieNotice\n","import React, { Component } from 'react'\nimport Fa from '../fa/Fa'\nimport styles from './loader.module.scss'\n\ninterface LoaderState {\n    isLoaderOn: boolean\n}\n\nclass Loader extends Component<{}, LoaderState> {\n    private timer?: NodeJS.Timeout\n\n    constructor(props: {}) {\n        super(props)\n        this.state = {\n            isLoaderOn: false\n        }\n    }\n\n    componentDidMount() {\n        this.timer = setTimeout(() => {\n            this.setState({\n                isLoaderOn: true\n            })\n        }, 300)\n    }\n\n    componentWillUnmount() {\n        if (this.timer) {\n            clearTimeout(this.timer)\n        }\n    }\n\n    render() {\n        if (!this.state.isLoaderOn) {\n            return null\n        } else {\n            return (\n                <div className={styles.container}>\n                    <Fa icon='fas fa-cog fa-spin' className={styles.icon} />\n                </div>\n            )\n        }\n    }\n}\n\nexport default Loader\n","import React, { Suspense } from 'react'\nimport Step1 from './ui/generation/step1/Step1'\nimport { HashRouter, Route, Switch } from 'react-router-dom'\nimport Header from './ui/header/Header'\nimport Footer from './ui/footer/Footer'\nimport Policy from './ui/policy/Policy'\nimport CookieNotice from './ui/cookieNotice/CookieNotice'\nimport Loader from './ui/misc/loader/Loader'\n\nconst Step2 = React.lazy(() => import('./ui/generation/step2/Step2'))\n\nfunction App() {\n    return (\n        <HashRouter>\n            <Switch>\n                <Route path='/policy'>\n                    <Policy />\n                </Route>\n\n                <Route>\n                    <Header/>\n\n                    <Route exact path='/'>\n                        <Step1 />\n                    </Route>\n\n                    <Route exact path='/step2'>\n                        <Suspense fallback={<Loader />}>\n                            <Step2 />\n                        </Suspense>\n                    </Route>\n\n                    <Footer />\n\n                    <CookieNotice />\n                </Route>\n            </Switch>\n        </HashRouter>\n    )\n}\n\nexport default App\n","import { ReportHandler } from 'web-vitals'\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry)\n      getFID(onPerfEntry)\n      getFCP(onPerfEntry)\n      getLCP(onPerfEntry)\n      getTTFB(onPerfEntry)\n    })\n  }\n}\n\nexport default reportWebVitals\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.scss'\nimport App from './App'\nimport reportWebVitals from './reportWebVitals'\n\nReactDOM.render(\n    <React.StrictMode>\n        <App />\n    </React.StrictMode>,\n    document.getElementById('root')\n)\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals()\n","import React from 'react'\n\ninterface FaProps {\n    className?: string\n    icon: string\n    title? : string\n}\n\nfunction Fa(props: FaProps) {\n    const className: string = props.className ?? ''\n\n    return (\n        <i className={`${props.icon} ${className}`} title={props.title}></i>\n    )\n}\n\nexport default Fa\n"],"sourceRoot":""}