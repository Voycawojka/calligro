(this.webpackJsonpcalligro=this.webpackJsonpcalligro||[]).push([[0],{15:function(e,t,a){e.exports={container:"generationCharacterList_container__3GuOi",character:"generationCharacterList_character__2rExn",input:"generationCharacterList_input__39dSd",inputInvalid:"generationCharacterList_inputInvalid__1jHOk",times:"generationCharacterList_times___04Ni",undoButton:"generationCharacterList_undoButton__3rwB-",characterContainer:"generationCharacterList_characterContainer__27T8l",button:"generationCharacterList_button__1GLlC",buttonContainer:"generationCharacterList_buttonContainer__3-ogl"}},16:function(e,t,a){e.exports={container:"navbar_container__37WB4",linkBig:"navbar_linkBig__zmIT9",linkSmall:"navbar_linkSmall__2Brh4",navLink:"navbar_navLink__3NK4p",navLinkLeft:"navbar_navLinkLeft__UA8H7",navLinkRight:"navbar_navLinkRight__3BYWT",navLinkActive:"navbar_navLinkActive__JHOaQ"}},17:function(e,t,a){e.exports={container:"cookieNotice_container__1Q5aW",heading:"cookieNotice_heading__1ppIL",image:"cookieNotice_image__2AQFE",content:"cookieNotice_content__1KUj1",list:"cookieNotice_list__8kV6w",listItem:"cookieNotice_listItem___Gqxs",link:"cookieNotice_link__1Dyak",details:"cookieNotice_details__1oDuP",linkContainer:"cookieNotice_linkContainer__SXyNB"}},2:function(e,t,a){e.exports={container:"generationView_container__3Fgnr",parameters:"generationView_parameters__29X54",commonParameters:"generationView_commonParameters__YXtC-",perCharacterParameters:"generationView_perCharacterParameters__S0O5E",charactersTextArea:"generationView_charactersTextArea__1PFxl",instructionList:"generationView_instructionList__SFUDy",instructionListItem:"generationView_instructionListItem__2OGuO",label:"generationView_label__3Iy_E",commonLabel:"generationView_commonLabel__2vnxY",commonInput:"generationView_commonInput__2dbDD",commonInputIvalid:"generationView_commonInputIvalid__20XvO",heading:"generationView_heading__3uRe_",paragraph:"generationView_paragraph__3w3_W",downloadButton:"generationView_downloadButton__U1Nsf",times:"generationView_times__1kN51",questionMark:"generationView_questionMark__P_5Tb",commonContainer:"generationView_commonContainer__137NA",link:"generationView_link__3yZP-"}},24:function(e,t,a){e.exports={container:"footer_container__3_wfr",policy:"footer_policy__JXBvy",link:"footer_link__3MEnl",authors:"footer_authors__NS734",linkContainer:"footer_linkContainer__UVDcd"}},26:function(e,t,a){e.exports={container:"header_container__3kiaD",sourceNoticeContainer:"header_sourceNoticeContainer__2AvyN",sourceNoticeLine1:"header_sourceNoticeLine1__21f5Z",sourceNoticeLine2:"header_sourceNoticeLine2__NmScR",logo:"header_logo__1GKSW",githubCorner:"header_githubCorner__o0nSv"}},28:function(e,t,a){e.exports={container:"dropzone_container__3YvRs",inputContainer:"dropzone_inputContainer__OD9Y7",label:"dropzone_label__xsqTw",fileName:"dropzone_fileName__CjjRG",input:"dropzone_input__3YtRE"}},29:function(e,t,a){e.exports={container:"author_container__pl8h1",socialLink:"author_socialLink__SgCuK",name:"author_name__2Hjyj",socialContainer:"author_socialContainer__LVnRs",icon:"author_icon__5pj1k"}},3:function(e,t,a){e.exports={container:"fontCreationView_container__1ZXJX",instructionList:"fontCreationView_instructionList__FwOFE",instructionListItem:"fontCreationView_instructionListItem__vUBPN",heading:"fontCreationView_heading__1GFxr",feature:"fontCreationView_feature__2jP9S",goodbye:"fontCreationView_goodbye__2ZSns",featureList:"fontCreationView_featureList__3Ri7d",dropzones:"fontCreationView_dropzones__3zbhE",options:"fontCreationView_options__gw4BI",label:"fontCreationView_label__10O7T",optionsLabel:"fontCreationView_optionsLabel__2o_9q",optionsInput:"fontCreationView_optionsInput__4n2s9",times:"fontCreationView_times__3Lh99",questionMark:"fontCreationView_questionMark__1BQzJ",option:"fontCreationView_option__3bbJO",downloadButton:"fontCreationView_downloadButton__3Z-bI"}},49:function(e,t,a){},60:function(e,t,a){"use strict";a.r(t);var n,i=a(0),r=a(1),o=a.n(r),c=a(40),s=a.n(c),l=(a(49),a(4)),h=a.n(l),u=a(9),p=a(13),d=a(23),m=a(20),j=a(18),b=a(19),f=a(22),g=a(21),v=a(5),O=a(7);function y(e,t,a){return t.split("\n").map((function(e){return e.split(" ")})).flatMap((function(t){var n=[[]];return t.forEach((function(t){var i=n[n.length-1];e.measureText("".concat(i.join(" ")," ").concat(t)).width<a?i.push(t):n.push([t])})),n.map((function(e){return e.join(" ")}))}))}function _(e,t,a){var n=document.createElement("canvas");n.width=e,n.height=t;var i=n.getContext("2d");if(!i)throw new Error("Your browser doesn't support 2d canvas context. Use a modern browser, please.");return a&&(i.fillStyle=a,i.fillRect(0,0,n.width,n.height)),[n,i]}function x(e){return new Promise((function(t,a){e.toBlob((function(e){return e?t(e):a()}))}))}function w(e){return new Promise((function(t){var a=URL.createObjectURL(e),n=document.createElement("img");n.onload=function(){var e=_(n.width,n.height),i=Object(u.a)(e,2),r=i[0],o=i[1];o.drawImage(n,0,0),n.remove(),URL.revokeObjectURL(a),t([r,o])},n.src=a}))}function N(e,t){var a=function(e,t){var a={packedRects:[],width:0,height:0},n=0,i=0,r=0,o=0;return a.packedRects=e.sort((function(e,t){return t.h-e.h})).map((function(e){n+e.w>t&&(n=0,i=o),n+e.w>r&&(r=n+e.w),i+e.h>o&&(o=i+e.h);var a={x:n,y:i,sourceRect:e};return n+=e.w,a})),a.width=r,a.height=o,a}(t,e.width),n=a.width,i=a.height,r=a.packedRects,o=_(n,i),c=Object(u.a)(o,2),s=c[0],l=c[1];return r.forEach((function(t){var a=t.x,n=t.y,i=t.sourceRect,r=i.w,o=i.h;l.drawImage(e,i.x,i.y,r,o,a,n,r,o)})),[s,r]}function k(e){var t=atob(e),a=JSON.parse(t);if(0!==a.version)throw new Error("Only templates version '0' are supported, instead got version '".concat(a.version,"'"));if(!Number.isInteger(a.base))throw new Error("Property 'base' must be an integer, instead got: ".concat(typeof a.base," '").concat(a.base,"'"));if(!Array.isArray(a.slots))throw new Error("Property 'slots' must be an array, instead got: ".concat(a.slots," '").concat(a.slots,"'"));var n=a.slots.find((function(e){return!Array.isArray(e)||3!==e.length||e.find((function(e){return!Number.isInteger(e)}))}));if(n)throw new Error("Each slot must be a three element array (integers only). Instead found: ".concat(JSON.stringify(n)));return a}function C(e,t,a,n,i){e.fillStyle="black",e.textAlign="left",function(e,t,a){var n=a.x,i=a.y,r=a.size,o=a.maxWidth,c=a.maxHeight,s=r;e.font="".concat(s,"px serif");var l=y(e,t,o);if(c)for(;l.length*s>=c;)s--,e.font="".concat(s,"px serif"),l=y(e,t,o);l.forEach((function(t,a){return e.fillText(t,n,i+a*s,o)}))}(e,"1) Draw characters inside the red boundaries*.\n\n2) Upload this file back to Calligro\n\n3) Paste the template code and you got yourself a font\n\n*Green lines signify the letter base.",{x:t+.05*n,y:a+.1*i,maxWidth:.9*n,maxHeight:.8*i,size:i/5})}function I(e,t,a){var n,i=null!==(n=a.value)&&void 0!==n?n:a.get;if(!i||!(i instanceof Function))throw Error("Memoize only supports non-setter functions.");var r=a.value?"value":"get",o=new Map;a[r]=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];var n=JSON.stringify(t),r=o.get(n),c=r||i.apply(this,t);return o.set(n,c),c}}var D=(n=function(){function e(t,a){Object(j.a)(this,e),this.slots=t,this.base=a,this.canvas=void 0,this.ctx=void 0;var n=_(this.w*this.slotDim.w,this.h*this.slotDim.h,"white"),i=Object(u.a)(n,2);this.canvas=i[0],this.ctx=i[1]}return Object(b.a)(e,[{key:"getSlotPosition",value:function(e){return{x:e%this.w*this.slotDim.w,y:Math.floor(e/this.w)*this.slotDim.h}}},{key:"generateImageBlob",value:function(){var e=this;return C(this.ctx,0,0,this.slotDim.w,this.slotDim.h),this.slots.forEach((function(t,a){var n=e.getSlotPosition(a+1),i=n.x,r=n.y;!function(e,t,a){var n=a.x,i=a.y,r=a.w,o=a.h,c=a.base,s=a.vertMargin;e.strokeStyle="black",e.strokeRect(n,i,r,o);var l=n+r/2-t.width/2,h=i+o/2-t.height/2;e.strokeStyle="green",e.beginPath(),e.moveTo(n,h+c),e.lineTo(n+r,h+c),e.stroke(),e.strokeStyle="red",e.clearRect(l,h,t.width,t.height),e.strokeRect(l,h,t.width,t.height),e.fillStyle="black",e.font="".concat(.8*s,"px serif"),e.textAlign="center",e.fillText(t.character,n+r/2,i+o-s/4,r)}(e.ctx,t,{x:i,y:r,w:e.slotDim.w,h:e.slotDim.h,base:e.base,vertMargin:e.slotDim.hMargin})})),x(this.canvas)}},{key:"generateTemplateCode",value:function(){var e={version:0,slots:this.slots.map((function(e){return[e.character.charCodeAt(0),e.width,e.height]})),base:this.base};return btoa(JSON.stringify(e))}},{key:"w",get:function(){return Math.ceil(Math.sqrt(this.slots.length+1))}},{key:"h",get:function(){return Math.ceil(Math.sqrt(this.slots.length+1))}},{key:"slotDim",get:function(){var e=Math.max.apply(null,this.slots.map((function(e){return e.width}))),t=Math.max.apply(null,this.slots.map((function(e){return e.height}))),a=1.3*t;return{w:1.3*e,h:a,hMargin:(a-t)/2}}}]),e}(),Object(v.a)(n.prototype,"w",[I],Object.getOwnPropertyDescriptor(n.prototype,"w"),n.prototype),Object(v.a)(n.prototype,"h",[I],Object.getOwnPropertyDescriptor(n.prototype,"h"),n.prototype),Object(v.a)(n.prototype,"slotDim",[I],Object.getOwnPropertyDescriptor(n.prototype,"slotDim"),n.prototype),Object(v.a)(n.prototype,"generateImageBlob",[I],Object.getOwnPropertyDescriptor(n.prototype,"generateImageBlob"),n.prototype),Object(v.a)(n.prototype,"generateTemplateCode",[I],Object.getOwnPropertyDescriptor(n.prototype,"generateTemplateCode"),n.prototype),n);function L(e,t,a){return S.apply(this,arguments)}function S(){return(S=Object(p.a)(h.a.mark((function e(t,a,n){var i,r,o,c,s,l,p,d,m,j,b,f,g;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=k(a),r=i.slots.map((function(e){var t=Object(u.a)(e,3),a=t[0],n=t[1],i=t[2];return{character:String.fromCharCode(a),width:n,height:i}})),o=new D(r,i.base),e.next=5,w(t);case 5:return c=e.sent,s=Object(u.a)(c,1),l=s[0],p=r.map((function(e,t){return{slot:e,x:o.getSlotPosition(t+1).x+o.slotDim.w/2-(e.width-2)/2,y:o.getSlotPosition(t+1).y+o.slotDim.h/2-(e.height-2)/2,w:e.width-2,h:e.height-2}})),d=N(l,p),m=Object(u.a)(d,2),j=m[0],b=m[1],e.next=12,x(j);case 12:return f=e.sent,g={info:{face:"calligro-custom",size:12,stretchH:100,aa:1,padding:{up:0,right:0,down:0,left:0},spacing:{horizontal:n.horizontalSpacing,vertical:n.verticalSpacing},outline:0},common:{lineHeight:n.lineHeight,base:i.base,scaleW:l.width,scaleH:l.height,pages:1},pages:[{id:0,file:"calligro-page-0.png"}],chars:b.map((function(e){return{id:e.sourceRect.slot.character.charCodeAt(0),x:e.x,y:e.y,width:e.sourceRect.w,height:e.sourceRect.h,xoffset:0,yoffset:0,xadvance:e.sourceRect.w,page:0,chnl:15}}))},e.abrupt("return",[g,[f]]);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var V=a(32);function P(e,t){var a=t.map((function(e){var t=Object(u.a)(e,2),a=t[0],n=t[1];return"".concat(a,"=").concat(n.toString())})).join(" ");return"".concat(e," ").concat(a)}function z(e){var t=e.info,a=P("info",[["face",t.face],["size",t.size],["unicode","1"],["stretchH",t.stretchH],["aa",t.stretchH],["padding","".concat(t.padding.up,",").concat(t.padding.right,",").concat(t.padding.down,",").concat(t.padding.left)],["spacing","".concat(t.spacing.horizontal,",").concat(t.spacing.vertical)]]),n=e.common,i=P("common",[["lineHeight",n.lineHeight],["base",n.base],["scaleW",n.scaleW],["scaleH",n.scaleH],["pages",n.pages]]),r=e.pages.map((function(e){return P("page",[["id",e.id],["file",e.file]])})),o=e.chars.map((function(e){return P("char",[["id",e.id],["x",e.x],["y",e.y],["width",e.width],["height",e.height],["xoffset",e.xoffset],["yoffset",e.yoffset],["xadvance",e.xadvance],["page",e.page],["chnl",e.chnl]])}));return[a,i].concat(Object(V.a)(r),Object(V.a)(o)).join("\n")}var M=a(43);function B(e,t){var a=document.createElement("a");a.href=URL.createObjectURL(t),a.download=e,a.click(),URL.revokeObjectURL(a.href),a.remove()}function H(e,t){return A.apply(this,arguments)}function A(){return(A=Object(p.a)(h.a.mark((function e(t,a){var n,i;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(M.a)(a),e.next=3,n.blob();case 3:i=e.sent,B("".concat(t,".zip"),i);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(e,t){return E.apply(this,arguments)}function E(){return(E=Object(p.a)(h.a.mark((function e(t,a){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[{name:"calligro-font.fnt",input:t}].concat(Object(V.a)(a.map((function(e,t){return{name:"calligro-page-".concat(t,".png"),input:e}})))),e.abrupt("return",H("calligro-font",n));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var R,F=a(3),q=a.n(F),U=a(28),W=a.n(U),J=(R=function(e){Object(f.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(j.a)(this,a),(n=t.call(this,e)).templateInput=void 0,n.templateInput=o.a.createRef(),n}return Object(b.a)(a,[{key:"handleFileInput",value:function(e){e&&e.type===this.props.dataType&&this.props.handleDropzoneInput(this.props.stateTarget,e)}},{key:"handleInput",value:function(){var e,t,a=null===(e=this.templateInput.current)||void 0===e||null===(t=e.files)||void 0===t?void 0:t[0];this.handleFileInput(a)}},{key:"handleDrop",value:function(e){e.preventDefault();var t=e.dataTransfer.files[0];this.handleFileInput(t)}},{key:"dragOver",value:function(e){e.preventDefault()}},{key:"dragEnter",value:function(e){e.preventDefault()}},{key:"dragLeave",value:function(e){e.preventDefault()}},{key:"render",value:function(){var e=this.props.templateName?Object(i.jsxs)("p",{className:W.a.fileName,children:["Uploaded ",this.props.templateName]}):null;return Object(i.jsxs)("div",{className:W.a.container,onDrop:this.handleDrop,onDragOver:this.dragOver,onDragEnter:this.dragEnter,onDragLeave:this.dragLeave,children:[Object(i.jsxs)("label",{className:W.a.label,children:["Drag&drop the ",this.props.inputName]}),Object(i.jsx)("div",{className:W.a.inputContainer,children:Object(i.jsx)("input",{className:W.a.input,type:"file",ref:this.templateInput,onChange:this.handleInput,accept:this.props.acceptedInputType,title:" "})}),e]})}}]),a}(r.Component),Object(v.a)(R.prototype,"handleInput",[O.a],Object.getOwnPropertyDescriptor(R.prototype,"handleInput"),R.prototype),Object(v.a)(R.prototype,"handleDrop",[O.a],Object.getOwnPropertyDescriptor(R.prototype,"handleDrop"),R.prototype),Object(v.a)(R.prototype,"dragEnter",[O.a],Object.getOwnPropertyDescriptor(R.prototype,"dragEnter"),R.prototype),Object(v.a)(R.prototype,"dragLeave",[O.a],Object.getOwnPropertyDescriptor(R.prototype,"dragLeave"),R.prototype),R);var G,X=function(e){var t,a=null!==(t=e.className)&&void 0!==t?t:"";return Object(i.jsx)("i",{className:"".concat(e.icon," ").concat(a),title:e.title})},Y=(G=function(e){Object(f.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(j.a)(this,a),(n=t.call(this,e)).state={horizontalMargin:0,verticalMargin:0,lineHeight:0},n}return Object(b.a)(a,[{key:"handleDropzoneInput",value:function(e,t){this.setState((function(a){return Object(m.a)(Object(m.a)({},a),{},Object(d.a)({},e,t))}))}},{key:"isInputsValid",value:function(){var e=!!this.state.templateCode&&"text/plain"===this.state.templateCode.type;return!!this.state.template&&"image/png"===this.state.template.type&&e}},{key:"handleNumericalInput",value:function(e,t){var a=parseInt(e.target.value,10);a>=0&&this.setState((function(e){return Object(m.a)(Object(m.a)({},e),{},Object(d.a)({},t,a))}))}},{key:"downloadFont",value:function(){var e=Object(p.a)(h.a.mark((function e(){var t,a,n,i,r,o;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.state.template&&this.state.templateCode){e.next=2;break}return e.abrupt("return");case 2:return t=this.state.template,e.next=5,this.state.templateCode.text();case 5:return a=e.sent,e.next=8,L(t,a,{horizontalSpacing:this.state.horizontalMargin,verticalSpacing:this.state.verticalMargin,lineHeight:this.state.lineHeight});case 8:n=e.sent,i=Object(u.a)(n,2),r=i[0],o=i[1],T(z(r),o);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e,t,a=this;return Object(i.jsxs)("div",{className:q.a.container,children:[Object(i.jsxs)("div",{children:[Object(i.jsxs)("div",{className:q.a.dropzones,children:[Object(i.jsx)(J,{inputName:"image",acceptedInputType:".png",dataType:"image/png",stateTarget:"template",handleDropzoneInput:this.handleDropzoneInput,templateName:null===(e=this.state.template)||void 0===e?void 0:e.name}),Object(i.jsx)(J,{inputName:"code file",acceptedInputType:".txt",dataType:"text/plain",stateTarget:"templateCode",handleDropzoneInput:this.handleDropzoneInput,templateName:null===(t=this.state.templateCode)||void 0===t?void 0:t.name})]}),Object(i.jsxs)("div",{className:q.a.options,children:[Object(i.jsx)("label",{className:q.a.label,children:"Font options"}),Object(i.jsxs)("div",{className:q.a.option,children:[Object(i.jsx)("label",{className:q.a.optionsLabel,children:"Margin"}),Object(i.jsx)("input",{className:q.a.optionsInput,type:"number",onChange:function(e){return a.handleNumericalInput(e,"horizontalMargin")},value:this.state.horizontalMargin}),Object(i.jsx)(X,{icon:"fas fa-times",className:q.a.times}),Object(i.jsx)("input",{className:q.a.optionsInput,type:"number",onChange:function(e){return a.handleNumericalInput(e,"verticalMargin")},value:this.state.verticalMargin}),Object(i.jsx)(X,{icon:"fas fa-question",className:q.a.questionMark,title:"Horizontal and vertical distance between characters in pixels"})]}),Object(i.jsxs)("div",{className:q.a.option,children:[Object(i.jsx)("label",{className:q.a.optionsLabel,children:"Line height"}),Object(i.jsx)("input",{className:q.a.optionsInput,type:"number",onChange:function(e){return a.handleNumericalInput(e,"lineHeight")},value:this.state.lineHeight}),Object(i.jsx)(X,{icon:"fas fa-question",className:q.a.questionMark,title:"Distance from the bottom of a line to the top of the next one in pixels"})]}),Object(i.jsx)("button",{onClick:this.downloadFont,className:q.a.downloadButton,disabled:!this.isInputsValid(),children:"generate font"})]})]}),Object(i.jsxs)("div",{children:[Object(i.jsxs)("div",{children:[Object(i.jsx)("h2",{className:q.a.heading,children:"Step 2 - Generate your font"}),Object(i.jsxs)("ol",{className:q.a.instructionList,children:[Object(i.jsx)("li",{className:q.a.instructionListItem,children:"Upload the template image with your characters drawn on it. Nothing is sent to a server, everything stays in your browser."}),Object(i.jsx)("li",{className:q.a.instructionListItem,children:"Upload the txt file downloaded togheter with the template image earlier (it contains template metadata)."}),Object(i.jsx)("li",{className:q.a.instructionListItem,children:"Specify the horizontal and vertical margins for characters."}),Object(i.jsx)("li",{className:q.a.instructionListItem,children:"Specify the font line height (distance from the top of one line to the top of the next one)."}),Object(i.jsx)("li",{className:q.a.instructionListItem,children:"Generate and download your BMFont."})]})]}),Object(i.jsxs)("div",{children:[Object(i.jsx)("h2",{className:q.a.heading,children:"Coming soon"}),Object(i.jsxs)("ul",{className:q.a.featureList,children:[Object(i.jsx)("li",{className:q.a.feature,children:"Kerning pairs support (that is: non-monospace fonts)"}),Object(i.jsx)("li",{className:q.a.feature,children:"XML export (some engines require it)"}),Object(i.jsx)("li",{className:q.a.feature,children:"Font preview"})]}),Object(i.jsx)("p",{className:q.a.goodbye,children:"Stay tuned ;)"})]})]})]})}}]),a}(r.Component),Object(v.a)(G.prototype,"handleDropzoneInput",[O.a],Object.getOwnPropertyDescriptor(G.prototype,"handleDropzoneInput"),G.prototype),Object(v.a)(G.prototype,"isInputsValid",[O.a],Object.getOwnPropertyDescriptor(G.prototype,"isInputsValid"),G.prototype),Object(v.a)(G.prototype,"handleNumericalInput",[O.a],Object.getOwnPropertyDescriptor(G.prototype,"handleNumericalInput"),G.prototype),Object(v.a)(G.prototype,"downloadFont",[O.a],Object.getOwnPropertyDescriptor(G.prototype,"downloadFont"),G.prototype),G),K=a(15),Z=a.n(K);var Q=function(e){var t=e.charSet.map((function(t){var a,n,r=null!==(a=t.width)&&void 0!==a?a:e.defaultWidth,o=null!==(n=t.height)&&void 0!==n?n:e.defaultHeight;return Object(i.jsxs)("div",{className:Z.a.characterContainer,children:[Object(i.jsx)("p",{className:Z.a.character,children:t.character}),Object(i.jsx)("input",{className:"".concat(Z.a.input," ").concat(r<=0?Z.a.inputInvalid:""),type:"number",value:r,onChange:function(a){return e.handleDimensionChange(a,"width",t)}}),Object(i.jsx)(X,{icon:"fas fa-times",className:Z.a.times}),Object(i.jsx)("input",{className:"".concat(Z.a.input," ").concat(o<=0?Z.a.inputInvalid:""),type:"number",value:o,onChange:function(a){return e.handleDimensionChange(a,"height",t)}}),t.height||t.width||r<=0||o<=0?Object(i.jsx)("span",{className:Z.a.buttonContainer,children:Object(i.jsx)("button",{onClick:function(){return e.resetCharacterDimensions(t)},className:Z.a.button,children:Object(i.jsx)(X,{icon:"fas fa-undo",className:Z.a.undoButton})})}):null]},t.character)}));return Object(i.jsx)("div",{className:Z.a.container,children:t})};function $(){return($=Object(p.a)(h.a.mark((function e(t){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.generateImageBlob();case 2:return e.t0=e.sent,e.t1={name:"template.png",input:e.t0},e.t2={name:"template code.txt",input:t.generateTemplateCode()},a=[e.t1,e.t2],e.abrupt("return",H("calligro-template",a));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ee,te=a(2),ae=a.n(te),ne=a(10),ie=(ee=function(e){Object(f.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(j.a)(this,a),(n=t.call(this,e)).state=n.setInitialState(),n}return Object(b.a)(a,[{key:"setInitialState",value:function(){var e,t,a,n,i=window.localStorage.getItem("settings"),r=i?JSON.parse(i):null;return{charSet:null!==(e=null===r||void 0===r?void 0:r.charSet)&&void 0!==e?e:this.createCharArray(),defaultWidth:null!==(t=null===r||void 0===r?void 0:r.defaultWidth)&&void 0!==t?t:20,defaultHeight:null!==(a=null===r||void 0===r?void 0:r.defaultHeight)&&void 0!==a?a:20,base:null!==(n=null===r||void 0===r?void 0:r.base)&&void 0!==n?n:10}}},{key:"componentDidUpdate",value:function(e,t){t!==this.state&&window.localStorage.setItem("settings",JSON.stringify(this.state))}},{key:"createCharArray",value:function(){return Array.from("AaBbCcDdEeFfGgHhIiJjKkLlMmNnOoPpQqRrSsTtUuVvWwXxYyZz.?!,:",(function(e){return{character:e}}))}},{key:"handleCharSetInput",value:function(e){var t=this,a=e.target.value.split("").filter((function(e){return" "!==e})),n=new Set(a).size===a.length;if(e.preventDefault(),n){var i=a.map((function(e){var a;return null!==(a=t.state.charSet.find((function(t){return t.character===e})))&&void 0!==a?a:{character:e}}));this.setState({charSet:i})}}},{key:"isSlotArrayValid",value:function(){return this.slotArray.every((function(e){return e.height>0&&e.width>0}))}},{key:"isBaseValid",value:function(){return this.state.base<=this.state.defaultHeight&&this.state.base>=0}},{key:"handleDefaultValueChange",value:function(e,t){var a=e.target.value?parseInt(e.target.value,10):0;this.setState((function(e){return Object(m.a)(Object(m.a)({},e),{},Object(d.a)({},t,a))}))}},{key:"handleDimensionChange",value:function(e,t,a){var n=e.target.value?parseInt(e.target.value,10):0,i=this.state.charSet.map((function(e){return e===a?Object(m.a)(Object(m.a)({},e),{},Object(d.a)({},t,n)):e}));this.setState({charSet:i})}},{key:"resetCharacterDimensions",value:function(e){var t=this.state.charSet.map((function(t){return e===t?{character:t.character}:t}));this.setState({charSet:t})}},{key:"downloadTemplate",value:function(){!function(e){$.apply(this,arguments)}(new D(this.slotArray,this.state.base))}},{key:"render",value:function(){var e=this;return Object(i.jsxs)("div",{className:ae.a.container,children:[Object(i.jsxs)("div",{children:[Object(i.jsxs)("div",{children:[Object(i.jsxs)("h2",{className:ae.a.heading,children:["Generate bitmap fonts in the ",Object(i.jsx)("a",{href:"http://www.angelcode.com/products/bmfont/doc/file_format.html",className:ae.a.link,children:"BMFont"})," format."]}),Object(i.jsx)("p",{className:ae.a.paragraph,children:"Calligro lets you generate custom fonts from images created in graphics software like Gimp, Photoshop, Aseprite and others."}),Object(i.jsxs)("p",{className:ae.a.paragraph,children:["If you\u2019re looking to convert a truetype font into a BMFont, try tools like the original ",Object(i.jsx)("a",{href:"http://www.angelcode.com/products/bmfont/",className:ae.a.link,children:"BMFont"})," or ",Object(i.jsx)("a",{href:"https://github.com/libgdx/libgdx/wiki/Hiero",className:ae.a.link,children:"Hiero"})," instead."]})]}),Object(i.jsxs)("div",{children:[Object(i.jsxs)("label",{className:ae.a.label,children:["Characters",Object(i.jsx)(X,{icon:"fas fa-question",className:ae.a.questionMark,title:"Characters you want to be included in the final font (all unicode characters should work)"})]}),Object(i.jsx)("textarea",{className:ae.a.charactersTextArea,onChange:this.handleCharSetInput,value:this.charString})]}),Object(i.jsxs)("div",{className:ae.a.parameters,children:[Object(i.jsxs)("div",{className:ae.a.commonParameters,children:[Object(i.jsxs)("div",{children:[Object(i.jsx)("label",{className:ae.a.label,children:"Common"}),Object(i.jsx)("label",{className:ae.a.commonLabel,children:"Size"}),Object(i.jsx)("input",{className:ae.a.commonInput,type:"number",onChange:function(t){return e.handleDefaultValueChange(t,"defaultWidth")},value:this.state.defaultWidth}),Object(i.jsx)(X,{icon:"fas fa-times",className:ae.a.times}),Object(i.jsx)("input",{className:ae.a.commonInput,type:"number",onChange:function(t){return e.handleDefaultValueChange(t,"defaultHeight")},value:this.state.defaultHeight}),Object(i.jsx)(X,{icon:"fas fa-question",className:ae.a.questionMark,title:"Default size of one character in pixels"})]}),Object(i.jsxs)("div",{children:[Object(i.jsx)("label",{className:ae.a.commonLabel,children:"Base"}),Object(i.jsx)("input",{className:"".concat(ae.a.commonInput," ").concat(this.isBaseValid()?"":ae.a.commonInputIvalid),type:"number",onChange:function(t){return e.handleDefaultValueChange(t,"base")},value:this.state.base}),Object(i.jsx)(X,{icon:"fas fa-question",className:ae.a.questionMark,title:'Distance from the top of the letter to the line base in pixels (character parts below this will stick out like in "g" or "j")'})]}),Object(i.jsx)("button",{onClick:this.downloadTemplate,className:ae.a.downloadButton,disabled:!this.isSlotArrayValid()||!this.isBaseValid(),children:"download template"})]}),Object(i.jsxs)("div",{className:ae.a.perCharacterParameters,children:[Object(i.jsxs)("label",{className:ae.a.label,children:["Per character",Object(i.jsx)(X,{icon:"fas fa-question",className:ae.a.questionMark,title:"Override default size per character"})]}),Object(i.jsx)(Q,{charSet:this.state.charSet,defaultHeight:this.state.defaultHeight,defaultWidth:this.state.defaultWidth,handleDimensionChange:this.handleDimensionChange,resetCharacterDimensions:this.resetCharacterDimensions})]})]})]}),Object(i.jsxs)("div",{children:[Object(i.jsx)("h2",{className:ae.a.heading,children:"Step 1 - Create a template"}),Object(i.jsxs)("ol",{className:ae.a.instructionList,children:[Object(i.jsx)("li",{className:ae.a.instructionListItem,children:" Specify what characters you want included in the final font. "}),Object(i.jsx)("li",{className:ae.a.instructionListItem,children:"Choose the character size and base."}),Object(i.jsx)("li",{className:ae.a.instructionListItem,children:"Optionally override the size per character if you want some to be smaller or bigger than the rest."}),Object(i.jsx)("li",{className:ae.a.instructionListItem,children:"Download the generated template. It\u2019s a zip archive containing two files: png and txt. Open the png in your graphics editor of choice and draw characters inside the red boundaries."}),Object(i.jsxs)("li",{className:ae.a.instructionListItem,children:["Go to ",Object(i.jsx)(ne.b,{to:"/step2",className:ae.a.link,children:"Step 2"})," to upload the template and generate your font."]})]})]})]})}},{key:"slotArray",get:function(){var e=this;return this.state.charSet.map((function(t){var a,n;return{character:t.character,width:null!==(a=t.width)&&void 0!==a?a:e.state.defaultWidth,height:null!==(n=t.height)&&void 0!==n?n:e.state.defaultHeight}}))}},{key:"charString",get:function(){return this.state.charSet.map((function(e){return e.character})).join("")}}]),a}(r.Component),Object(v.a)(ee.prototype,"handleCharSetInput",[O.a],Object.getOwnPropertyDescriptor(ee.prototype,"handleCharSetInput"),ee.prototype),Object(v.a)(ee.prototype,"isSlotArrayValid",[O.a],Object.getOwnPropertyDescriptor(ee.prototype,"isSlotArrayValid"),ee.prototype),Object(v.a)(ee.prototype,"isBaseValid",[O.a],Object.getOwnPropertyDescriptor(ee.prototype,"isBaseValid"),ee.prototype),Object(v.a)(ee.prototype,"handleDefaultValueChange",[O.a],Object.getOwnPropertyDescriptor(ee.prototype,"handleDefaultValueChange"),ee.prototype),Object(v.a)(ee.prototype,"handleDimensionChange",[O.a],Object.getOwnPropertyDescriptor(ee.prototype,"handleDimensionChange"),ee.prototype),Object(v.a)(ee.prototype,"resetCharacterDimensions",[O.a],Object.getOwnPropertyDescriptor(ee.prototype,"resetCharacterDimensions"),ee.prototype),Object(v.a)(ee.prototype,"downloadTemplate",[O.a],Object.getOwnPropertyDescriptor(ee.prototype,"downloadTemplate"),ee.prototype),ee),re=a(6),oe=a(16),ce=a.n(oe);var se=function(){return Object(i.jsxs)("nav",{className:ce.a.container,children:[Object(i.jsxs)(ne.c,{exact:!0,to:"/",className:"".concat(ce.a.navLink," ").concat(ce.a.navLinkLeft),activeClassName:ce.a.navLinkActive,children:[Object(i.jsx)("p",{className:ce.a.linkBig,children:"Step 1"}),Object(i.jsx)("p",{className:ce.a.linkSmall,children:"create a template"})]}),Object(i.jsxs)(ne.c,{to:"/step2",className:"".concat(ce.a.navLink," ").concat(ce.a.navLinkRight),activeClassName:ce.a.navLinkActive,children:[Object(i.jsx)("p",{className:ce.a.linkBig,children:"Step 2"}),Object(i.jsx)("p",{className:ce.a.linkSmall,children:"generate your font"})]})]})},le=a(26),he=a.n(le),ue=a(42),pe=a.n(ue);var de=function(){return Object(i.jsxs)("div",{className:he.a.container,children:[Object(i.jsx)("img",{src:"logo.svg",alt:"logo",className:he.a.logo}),Object(i.jsx)(se,{}),Object(i.jsxs)("div",{className:he.a.sourceNoticeContainer,children:[Object(i.jsx)("p",{className:he.a.sourceNoticeLine1,children:"We're open source!"}),Object(i.jsx)("p",{className:he.a.sourceNoticeLine2,children:"Feel free to contribute :D"})]}),Object(i.jsx)(pe.a,{className:he.a.githubCorner,href:"https://github.com/Voycawojka/calligro",size:"110",bannerColor:"#707070",octoColor:"#202020"})]})},me=a(29),je=a.n(me);var be=function(e){var t=e.socialLinks.map((function(e){return Object(i.jsx)("a",{className:je.a.socialLink,href:e.url,children:Object(i.jsx)(X,{icon:e.icon,className:je.a.icon})},e.url)}));return Object(i.jsxs)("div",{className:je.a.container,children:[Object(i.jsx)("h3",{className:je.a.name,children:e.name}),Object(i.jsx)("div",{className:je.a.socialContainer,children:t})]})},fe=a(24),ge=a.n(fe);var ve=function(){return Object(i.jsxs)("footer",{className:ge.a.container,children:[Object(i.jsx)(ne.b,{to:"/policy",className:"".concat(ge.a.policy," ").concat(ge.a.link),children:"Cookie policy"}),Object(i.jsxs)("div",{className:ge.a.authors,children:[Object(i.jsx)(be,{name:"Filip A. Kowalski",socialLinks:[{url:"http://ideasalmanac.com",icon:"fa fa-globe-africa"},{url:"https://twitter.com/IdeasAlmanac",icon:"fab fa-twitter"},{url:"https://github.com/Voycawojka",icon:"fab fa-github"}]}),Object(i.jsx)(be,{name:"Dominik J\xf3zefiak",socialLinks:[{url:"https://github.com/domlj",icon:"fab fa-github"}]})]}),Object(i.jsxs)("div",{className:ge.a.linkContainer,children:[Object(i.jsx)("a",{href:"https://github.com/Voycawojka/calligro/issues",className:ge.a.link,children:"Found a bug?"}),Object(i.jsx)("a",{href:"https://github.com/Voycawojka/calligro/issues",className:ge.a.link,children:"Have a feature request?"})]})]})};var Oe,ye=function(){return Object(i.jsxs)("div",{children:[Object(i.jsx)("p",{children:"content"}),Object(i.jsx)(ne.b,{to:"/",children:"back to menu"})]})},_e=a(38),xe=a.n(_e),we=a(17),Ne=a.n(we),ke=(Oe=function(e){Object(f.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(j.a)(this,a),(n=t.call(this,e)).state={acknowledged:!1},n}return Object(b.a)(a,[{key:"componentDidMount",value:function(){this.setState({acknowledged:"true"===xe.a.get("cookies-acknowledged")})}},{key:"handleExit",value:function(){xe.a.set("cookies-acknowledged","true",{expires:1e3}),this.setState({acknowledged:!0})}},{key:"render",value:function(){return this.state.acknowledged?null:Object(i.jsxs)("div",{className:Ne.a.container,children:[Object(i.jsx)("h2",{className:Ne.a.heading,children:"We use cookies"}),Object(i.jsxs)("div",{className:Ne.a.content,children:[Object(i.jsx)("img",{className:Ne.a.image,src:"cookie.svg",alt:"cookie"}),Object(i.jsxs)("div",{className:Ne.a.details,children:[Object(i.jsxs)("ul",{className:Ne.a.list,children:[Object(i.jsx)("li",{className:Ne.a.listItem,children:"for your convienience"}),Object(i.jsx)("li",{className:Ne.a.listItem,children:"for analytics"})]}),Object(i.jsxs)("div",{className:Ne.a.linkContainer,children:[Object(i.jsx)(ne.b,{to:"/policy",className:Ne.a.link,children:"Learn more"}),Object(i.jsx)("button",{onClick:this.handleExit,className:Ne.a.link,children:"Accept"})]})]})]})]})}}]),a}(r.Component),Object(v.a)(Oe.prototype,"handleExit",[O.a],Object.getOwnPropertyDescriptor(Oe.prototype,"handleExit"),Oe.prototype),Oe);var Ce=function(){return Object(i.jsx)(ne.a,{children:Object(i.jsxs)(re.c,{children:[Object(i.jsx)(re.a,{path:"/policy",children:Object(i.jsx)(ye,{})}),Object(i.jsxs)(re.a,{children:[Object(i.jsx)(de,{}),Object(i.jsx)(re.a,{exact:!0,path:"/",children:Object(i.jsx)(ie,{})}),Object(i.jsx)(re.a,{exact:!0,path:"/step2",children:Object(i.jsx)(Y,{})}),Object(i.jsx)(ve,{}),Object(i.jsx)(ke,{})]})]})})},Ie=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,61)).then((function(t){var a=t.getCLS,n=t.getFID,i=t.getFCP,r=t.getLCP,o=t.getTTFB;a(e),n(e),i(e),r(e),o(e)}))};s.a.render(Object(i.jsx)(o.a.StrictMode,{children:Object(i.jsx)(Ce,{})}),document.getElementById("root")),Ie()}},[[60,1,2]]]);
//# sourceMappingURL=main.ba6cee7f.chunk.js.map