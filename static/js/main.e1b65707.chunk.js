(this.webpackJsonpcalligro=this.webpackJsonpcalligro||[]).push([[0],[,,function(e,t,a){e.exports={container:"step1_container__2R46B",desktop:"step1_desktop___07r7",parameters:"step1_parameters__2fhbG",commonParameters:"step1_commonParameters__12krB",perCharacterParameters:"step1_perCharacterParameters__187q6",charactersLabelContainer:"step1_charactersLabelContainer__2_zeq",charactersResetButton:"step1_charactersResetButton__1rVxQ",charactersTextArea:"step1_charactersTextArea__1129O",instructionList:"step1_instructionList__1yq3Z",instructionListItem:"step1_instructionListItem__3ndrZ",label:"step1_label__dvXqU",charactersLabel:"step1_charactersLabel__8FH79",commonLabel:"step1_commonLabel__1XEMl",commonInput:"step1_commonInput__2xGXE",commonInputIvalid:"step1_commonInputIvalid__1M86R",heading:"step1_heading__3AIsF",paragraph:"step1_paragraph__26hYp",formButton:"step1_formButton__4K7wD",smallFormButton:"step1_smallFormButton__1ISq8",times:"step1_times__2BpAi",questionMark:"step1_questionMark__1F_q0",inputQuestionMark:"step1_inputQuestionMark__3myVX",commonContainer:"step1_commonContainer__3oXIY",link:"step1_link__1D4An",presetSelect:"step1_presetSelect__1bvRj",inputContainer:"step1_inputContainer__22h8D",desktopWidget:"step1_desktopWidget__2bAE1",mobileWidget:"step1_mobileWidget__3Pp_A"}},,,,,,function(e,t,a){"use strict";a(1);var n=a(0);t.a=function(e){var t,a=null!==(t=e.className)&&void 0!==t?t:"";return Object(n.jsx)("i",{className:"".concat(e.icon," ").concat(a),title:e.title})}},,,,,,,function(e,t,a){e.exports={container:"step1CharacterList_container__2suRc",desktop:"step1CharacterList_desktop__1pQ2g",character:"step1CharacterList_character__3-MFM",input:"step1CharacterList_input__1t3rR",inputInvalid:"step1CharacterList_inputInvalid__3-Gel",times:"step1CharacterList_times__37cyf",undoButton:"step1CharacterList_undoButton__2AK0J",characterContainer:"step1CharacterList_characterContainer__2Rpww",button:"step1CharacterList_button__1WKc4",buttonContainer:"step1CharacterList_buttonContainer__1qLZa"}},,,,function(e,t,a){"use strict";function n(){return navigator.userAgent.toLowerCase().indexOf(" electron/")>-1}a.d(t,"a",(function(){return n}))},function(e,t,a){e.exports={container:"navbar_container__2mYrz",linkBig:"navbar_linkBig__1CiWe",linkSmall:"navbar_linkSmall__3U_dr",navLink:"navbar_navLink__lYMlZ",navLinkLeft:"navbar_navLinkLeft__2tD8-",navLinkRight:"navbar_navLinkRight__1FQnp",navLinkActive:"navbar_navLinkActive__1z4La"}},function(e,t,a){e.exports={container:"cookieNotice_container__2ekSC",heading:"cookieNotice_heading__vUvKO",image:"cookieNotice_image__2wJ3y",content:"cookieNotice_content__3HqBN",list:"cookieNotice_list__1hg4D",listItem:"cookieNotice_listItem__3GkmT",link:"cookieNotice_link__38Uhh",details:"cookieNotice_details__1BKmu",linkContainer:"cookieNotice_linkContainer__18P_C"}},function(e,t,a){"use strict";function n(e){return""===e?0:e}a.d(t,"a",(function(){return n}))},,function(e,t,a){e.exports={container:"updater_container__3h_sW",content:"updater_content__1iY35",contentBold:"updater_contentBold__rjAct",link:"updater_link__2x13t",descriptionParagraph:"updater_descriptionParagraph__LHRKO"}},function(e,t,a){e.exports={container:"aboutPopup_container__q80Qs",authorsContainer:"aboutPopup_authorsContainer__3z2Ll",link:"aboutPopup_link__THdwT",version:"aboutPopup_version__3fVGa",disclaimer:"aboutPopup_disclaimer__3bvNg",paragraph:"aboutPopup_paragraph__3huAY"}},function(e,t,a){e.exports={container:"header_container__3iV9Y",sourceNoticeContainer:"header_sourceNoticeContainer__3debw",sourceNoticeLine1:"header_sourceNoticeLine1__2dpGN",sourceNoticeLine2:"header_sourceNoticeLine2__1SD3C",logo:"header_logo__1NKnM",heading:"header_heading__3P59A",githubCorner:"header_githubCorner__i9m_i"}},function(e,t,a){e.exports={container:"footer_container__2qBcC",policy:"footer_policy__w7rxg",link:"footer_link__gQPPx",authors:"footer_authors__1Pupk",linkContainer:"footer_linkContainer__3kxeW"}},,,,function(e,t,a){e.exports={container:"author_container__Qvl5M",socialLink:"author_socialLink__1xWOs",name:"author_name__uFPT4",socialContainer:"author_socialContainer__3Ftd3",icon:"author_icon__1sPpI"}},function(e,t,a){"use strict";function n(e,t,a){return t.split("\n").map((function(e){return e.split(" ")})).flatMap((function(t){var n=[[]];return t.forEach((function(t){var r=n[n.length-1];e.measureText("".concat(r.join(" ")," ").concat(t)).width<a?r.push(t):n.push([t])})),n.map((function(e){return e.join(" ")}))}))}function r(e,t,a){var n=document.createElement("canvas");n.width=e,n.height=t;var r=n.getContext("2d");if(!r)throw new Error("Your browser doesn't support 2d canvas context. Use a modern browser, please.");return a&&(r.fillStyle=a,r.fillRect(0,0,n.width,n.height)),[n,r]}function i(e,t,a){var r=a.x,i=a.y,o=a.size,c=a.maxWidth,s=a.maxHeight,l=o;e.font="".concat(l,"px serif");var u=n(e,t,c);if(s)for(;u.length*l>=s;)l--,e.font="".concat(l,"px serif"),u=n(e,t,c);u.forEach((function(t,a){return e.fillText(t,r,i+a*l,c)}))}function o(e){return new Promise((function(t,a){e.toBlob((function(e){return e?t(e):a()}))}))}a.d(t,"b",(function(){return r})),a.d(t,"c",(function(){return i})),a.d(t,"a",(function(){return o}))},,,,function(e,t,a){e.exports={container:"popup_container__3Xpyi",title:"popup_title__HV9m6",closeButton:"popup_closeButton__1N_N-",times:"popup_times__3iVWR"}},,,,,,function(e,t,a){e.exports={policyContainer:"policy_policyContainer__2V2gt",menuLink:"policy_menuLink__2gWKV"}},,function(e,t,a){e.exports={container:"loader_container__uCYfU",icon:"loader_icon__1ZW5k"}},function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a(4),r=a.n(n),i=a(16),o=a(53);function c(e,t){var a=document.createElement("a");a.href=URL.createObjectURL(t),a.download=e,a.click(),URL.revokeObjectURL(a.href),a.remove()}function s(e,t){return l.apply(this,arguments)}function l(){return(l=Object(i.a)(r.a.mark((function e(t,a){var n,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(o.a)(a),e.next=3,n.blob();case 3:i=e.sent,c("".concat(t,".zip"),i);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},function(e,t,a){"use strict";function n(e){try{var t=decodeURIComponent(escape(atob(e))),a=JSON.parse(t);switch(a.version){case 0:a.presetName="custom";break;case 1:break;default:throw new Error("Only templates version '0' and '1' are supported, instead got version '".concat(a.version,"'"))}if("string"!==typeof a.presetName)throw new Error("Property 'presetName' must be a string, instead got: ".concat(typeof a.presetName," '").concat(a.presetName,"'"));if(!Number.isInteger(a.base))throw new Error("Property 'base' must be an integer, instead got: ".concat(typeof a.base," '").concat(a.base,"'"));if(!Array.isArray(a.slots))throw new Error("Property 'slots' must be an array, instead got: ".concat(a.slots," '").concat(a.slots,"'"));var n=a.slots.find((function(e){return!Array.isArray(e)||3!==e.length||e.find((function(e){return!Number.isInteger(e)}))}));if(n)throw new Error("Each slot must be a three element array (integers only). Instead found: ".concat(JSON.stringify(n)));return a}catch(r){return console.warn("Invalid template code provided: ".concat(r.message)),null}}a.d(t,"a",(function(){return n}))},function(e,t,a){"use strict";function n(e){return e.charCodeAt(0)}function r(e){return String.fromCharCode(e)}a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return r}))},function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var n,r=a(28),i=a(9),o=a(10),c=a(3),s=a(32);function l(e,t,a){var n,r=null!==(n=a.value)&&void 0!==n?n:a.get;if(!r||!(r instanceof Function))throw Error("Memoize only supports non-setter functions.");var i=a.value?"value":"get",o=new Map;a[i]=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];var n=JSON.stringify(t),i=o.get(n),c=i||r.apply(this,t);return o.set(n,c),c}}var u=(n=function(){function e(t,a,n){Object(i.a)(this,e),this.slots=t,this.base=a,this.presetName=n,this.canvas=void 0,this.ctx=void 0;var o=Object(s.b)(this.w*this.slotDim.w,this.h*this.slotDim.h,"white"),c=Object(r.a)(o,2);this.canvas=c[0],this.ctx=c[1]}return Object(o.a)(e,[{key:"w",get:function(){return Math.ceil(Math.sqrt(this.slots.length+1))}},{key:"h",get:function(){return Math.ceil(Math.sqrt(this.slots.length+1))}},{key:"slotDim",get:function(){var e=Math.max.apply(null,this.slots.map((function(e){return e.width}))),t=Math.max.apply(null,this.slots.map((function(e){return e.height}))),a=Math.round(1.3*e),n=Math.round(1.3*t);return{w:a,h:n,hMargin:Math.ceil((n-t)/2)}}},{key:"getSlotPosition",value:function(e){return{x:e%this.w*this.slotDim.w,y:Math.floor(e/this.w)*this.slotDim.h}}},{key:"generateImageBlob",value:function(){var e,t,a,n,r,i=this;return e=this.ctx,t=0,a=0,n=this.slotDim.w,r=this.slotDim.h,e.fillStyle="black",e.textAlign="left",Object(s.c)(e,"1) Draw characters inside the red boundaries*.\n\n2) Upload this file back to Calligro\n\n3) Paste the template code and you got yourself a font\n\n*Green lines signify the letter base.",{x:t+.05*n,y:a+.1*r,maxWidth:.9*n,maxHeight:.8*r,size:r/5}),this.slots.forEach((function(e,t){var a=i.getSlotPosition(t+1),n=a.x,r=a.y;!function(e,t,a){var n=a.x,r=a.y,i=a.w,o=a.h,c=a.base,s=a.vertMargin;e.translate(.5,.5),e.strokeStyle="black",e.strokeRect(n,r,i,o);var l=n+i/2-t.width/2,u=r+o/2-t.height/2;e.strokeStyle="green",e.beginPath(),e.moveTo(n,u+c),e.lineTo(n+i,u+c),e.stroke(),e.strokeStyle="red",e.clearRect(l,u,t.width,t.height),e.strokeRect(l,u,t.width,t.height),e.translate(-.5,-.5);var h=.8*s;h>=6&&(e.fillStyle="black",e.font="".concat(h,"px serif"),e.textAlign="center",e.fillText(t.character,n+i/2,r+o-s/4,i))}(i.ctx,e,{x:n,y:r,w:i.slotDim.w,h:i.slotDim.h,base:i.base,vertMargin:i.slotDim.hMargin})})),Object(s.a)(this.canvas)}},{key:"generateTemplateCode",value:function(){var e={version:1,slots:this.slots.map((function(e){return[e.character.charCodeAt(0),e.width,e.height]})),base:this.base,presetName:this.presetName};return btoa(unescape(encodeURIComponent(JSON.stringify(e))))}}]),e}(),Object(c.a)(n.prototype,"w",[l],Object.getOwnPropertyDescriptor(n.prototype,"w"),n.prototype),Object(c.a)(n.prototype,"h",[l],Object.getOwnPropertyDescriptor(n.prototype,"h"),n.prototype),Object(c.a)(n.prototype,"slotDim",[l],Object.getOwnPropertyDescriptor(n.prototype,"slotDim"),n.prototype),Object(c.a)(n.prototype,"generateImageBlob",[l],Object.getOwnPropertyDescriptor(n.prototype,"generateImageBlob"),n.prototype),Object(c.a)(n.prototype,"generateTemplateCode",[l],Object.getOwnPropertyDescriptor(n.prototype,"generateTemplateCode"),n.prototype),n)},,,,,,,,,,function(e,t,a){},,,,,,,,,,,,,,,,,function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),i=a(49),o=a.n(i),c=(a(58),a(4)),s=a.n(c),l=a(16),u=a(33),h=a(23),p=a(38),d=a(28),b=a(9),j=a(10),m=a(18),f=a(17),v=a(3),g=a(5),O=a(8),y=a(15),_=a.n(y),x=a(22),k=a(19),w=a(0);var N=function(e){var t=e.charSet.map((function(t){var a,n,r=null!==(a=t.width)&&void 0!==a?a:e.defaultWidth,i=null!==(n=t.height)&&void 0!==n?n:e.defaultHeight;return Object(w.jsxs)("div",{className:_.a.characterContainer,children:[Object(w.jsx)("p",{className:_.a.character,children:t.character}),Object(w.jsx)("input",{"aria-label":"".concat(t.character," width input"),className:"".concat(_.a.input," ").concat(Object(x.a)(r)<=0?_.a.inputInvalid:""),type:"number",value:r,onChange:function(a){return e.handleDimensionChange(a,"width",t)}}),Object(w.jsx)(O.a,{icon:"fas fa-times",className:_.a.times}),Object(w.jsx)("input",{"aria-label":"".concat(t.character," height input"),className:"".concat(_.a.input," ").concat(Object(x.a)(i)<=0?_.a.inputInvalid:""),type:"number",value:i,onChange:function(a){return e.handleDimensionChange(a,"height",t)}}),t.height||t.width||Object(x.a)(r)<=0||Object(x.a)(i)<=0?Object(w.jsx)("span",{className:_.a.buttonContainer,children:Object(w.jsx)("button",{onClick:function(){return e.resetCharacterDimensions(t)},className:_.a.button,children:Object(w.jsx)(O.a,{icon:"fas fa-undo",className:_.a.undoButton})})}):null]},t.character)}));return Object(w.jsx)("div",{className:"".concat(_.a.container," ").concat(Object(k.a)()?_.a.desktop:""),children:t})},C=a(48),S=a(45);function L(e){return D.apply(this,arguments)}function D(){return(D=Object(l.a)(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.generateImageBlob();case 2:return e.t0=e.sent,e.t1={name:"template.png",input:e.t0},e.t2={name:"template code.txt",input:t.generateTemplateCode()},a=[e.t1,e.t2],e.abrupt("return",Object(S.a)("calligro-template",a));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var P=a(2),I=a.n(P),B=a(12);function A(e){return Object(k.a)()?null:e.div?Object(w.jsx)("div",{children:e.children}):Object(w.jsx)(w.Fragment,{children:e.children})}var V=a(46),M=a(47);function W(e){return Object(k.a)()?e.div?Object(w.jsx)("div",{children:e.children}):Object(w.jsx)(w.Fragment,{children:e.children}):null}var q=window.require?window.require("electron").shell:null;var F,R=function(e){if(Object(k.a)()){return Object(w.jsx)("a",Object(h.a)(Object(h.a)({},e),{},{onClick:function(t){e.href&&(t.preventDefault(),null===q||void 0===q||q.openExternal(e.href))},children:e.children}))}return Object(w.jsx)("a",Object(h.a)(Object(h.a)({},e),{},{children:e.children}))},T=window.require?window.require("electron").ipcRenderer:null,H=(F=function(e){Object(m.a)(n,e);var t=Object(f.a)(n);function n(e){var r;return Object(b.a)(this,n),(r=t.call(this,e)).unicodeRanges=void 0,r.unicodeRanges=function(){var e=a(61);return e.splice(-2,2),e.sort((function(e,t){return e.category.localeCompare(t.category,"en")})),e}(),r.state=r.setInitialState(),r}return Object(j.a)(n,[{key:"setInitialState",value:function(){var e,t,a,n,r,i,o=window.localStorage.getItem("settings"),c=o?JSON.parse(o):null,s=null!==(e=null===c||void 0===c?void 0:c.selectedPreset)&&void 0!==e?e:"Basic Latin",l=null!==(t=null===c||void 0===c?void 0:c.charSet)&&void 0!==t?t:this.createCharSetFromPreset(s),u=null!==(a=null===c||void 0===c?void 0:c.charString)&&void 0!==a?a:l.map((function(e){return e.character})).join("");return{selectedPreset:s,charSet:l,defaultWidth:null!==(n=null===c||void 0===c?void 0:c.defaultWidth)&&void 0!==n?n:150,defaultHeight:null!==(r=null===c||void 0===c?void 0:c.defaultHeight)&&void 0!==r?r:200,base:null!==(i=null===c||void 0===c?void 0:c.base)&&void 0!==i?i:150,presetInputValue:s,charString:u}}},{key:"componentDidUpdate",value:function(e,t){t!==this.state&&window.localStorage.setItem("settings",JSON.stringify(this.state))}},{key:"componentDidMount",value:function(){null===T||void 0===T||T.on("load-template",this.loadTemplateListener)}},{key:"componentWillUnmount",value:function(){null===T||void 0===T||T.removeListener("load-template",this.loadTemplateListener)}},{key:"loadTemplateListener",value:function(e,t){var a=Object(V.a)(t);a&&this.setState({base:a.base,charSet:a.slots.map((function(e){var t=Object(d.a)(e,3),a=t[0],n=t[1],r=t[2];return{character:Object(M.b)(a),width:n,height:r}})),selectedPreset:a.presetName,presetInputValue:a.presetName})}},{key:"handleCharSetInput",value:function(e){var t=this;e.preventDefault();var a=e.target.value,n=a.split("").filter((function(e){return""!==e.trim()})),r=Object(p.a)(new Set(n)).map((function(e){var a;return null!==(a=t.state.charSet.find((function(t){return t.character===e})))&&void 0!==a?a:{character:e}}));this.setState({charString:a,charSet:r,selectedPreset:"custom",presetInputValue:"custom"})}},{key:"removeDuplicatesFromCharString",value:function(){var e=Object(p.a)(new Set(this.state.charString.split(""))).join("");this.setState({charString:e})}},{key:"isCharStringValid",value:function(){var e=this.state.charString.split("");return new Set(e).size===e.length}},{key:"createCharSetFromPreset",value:function(e){var t=this.unicodeRanges.find((function(t){return t.category===e}));if(t){for(var a=[],n=t.range[0];n<t.range[1]+1;n++)a.push({character:String.fromCharCode(n)});return a}return[]}},{key:"slotArray",get:function(){var e=this;return this.state.charSet.map((function(t){var a,n;return{character:t.character,width:Object(x.a)(null!==(a=t.width)&&void 0!==a?a:e.state.defaultWidth),height:Object(x.a)(null!==(n=t.height)&&void 0!==n?n:e.state.defaultHeight)}}))}},{key:"isSlotArrayValid",value:function(){return this.slotArray.every((function(e){return e.height>0&&e.width>0}))}},{key:"isBaseValid",value:function(){var e=Object(x.a)(this.state.base);return e<=Object(x.a)(this.state.defaultHeight)&&e>=0}},{key:"handleDefaultValueChange",value:function(e,t){var a=""===e.target.value?"":parseInt(e.target.value,10);this.setState((function(e){return Object(h.a)(Object(h.a)({},e),{},Object(u.a)({},t,a))}))}},{key:"handleDimensionChange",value:function(e,t,a){var n=""===e.target.value?"":parseInt(e.target.value,10),r=this.state.charSet.map((function(e){return e===a?Object(h.a)(Object(h.a)({},e),{},Object(u.a)({},t,n)):e}));this.setState({charSet:r})}},{key:"resetCharacterDimensions",value:function(e){var t=this.state.charSet.map((function(t){return e===t?{character:t.character}:t}));this.setState({charSet:t})}},{key:"downloadTemplate",value:function(){var e=Object(l.a)(s.a.mark((function e(){var t,a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=new C.a(this.slotArray,Object(x.a)(this.state.base),this.state.selectedPreset),!Object(k.a)()){e.next=11;break}return e.next=4,t.generateImageBlob();case 4:return a=e.sent,e.next=7,a.arrayBuffer();case 7:n=e.sent,null===T||void 0===T||T.send("save-template",n,t.generateTemplateCode()),e.next=12;break;case 11:L(t);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"changePreset",value:function(e){var t=this.unicodeRanges.some((function(t){return t.category===e.target.value}));if(this.setState({presetInputValue:e.target.value}),t){var a=this.createCharSetFromPreset(e.target.value),n=a.map((function(e){return e.character})).join("");this.setState({selectedPreset:e.target.value,charSet:a,charString:n},(function(){return e.target.blur()}))}}},{key:"presetSelectBlur",value:function(e){e.target.value=this.state.selectedPreset}},{key:"render",value:function(){var e=this,t=function(){var t=e.unicodeRanges.filter((function(t){return t.category.toLowerCase().includes(e.state.presetInputValue.toLowerCase())})).slice(0,10).map((function(e){return Object(w.jsx)("option",{value:e.category,children:e.category},e.category)})),a=Object(w.jsx)("option",{value:"Basic Latin",children:"Default"}),n="datalistId";return Object(w.jsxs)("div",{className:I.a.inputContainer,children:[Object(w.jsx)(O.a,{icon:"fas fa-question",className:"".concat(I.a.questionMark," ").concat(I.a.inputQuestionMark),title:"Search any unicode preset like Arabic, Cyrillic, or Hiragana"}),Object(w.jsx)("input",{list:n,"aria-label":"unicode presets selection input",onChange:e.changePreset,value:e.state.presetInputValue,className:I.a.presetSelect,onBlur:e.presetSelectBlur}),Object(w.jsxs)("datalist",{id:n,onClick:function(){return console.log("clicked")},children:[a,t]})]})}();return Object(w.jsxs)("div",{className:"".concat(I.a.container," ").concat(Object(k.a)()?I.a.desktop:""),children:[Object(w.jsxs)("div",{children:[Object(w.jsxs)(A,{div:!0,children:[Object(w.jsxs)("h2",{className:I.a.heading,children:["Generate bitmap fonts in the ",Object(w.jsx)(R,{href:"https://www.angelcode.com/products/bmfont/doc/file_format.html",className:I.a.link,children:"BMFont"})," format."]}),Object(w.jsx)("p",{className:I.a.paragraph,children:"Calligro lets you generate custom fonts from images created in graphics software like Gimp, Photoshop, Aseprite and others."}),Object(w.jsxs)("p",{className:I.a.paragraph,children:["If you\u2019re looking to convert a truetype font into a BMFont, try tools like the original"," ",Object(w.jsx)(R,{href:"https://www.angelcode.com/products/bmfont/",className:I.a.link,children:"BMFont"})," ","or"," ",Object(w.jsx)(R,{href:"https://github.com/libgdx/libgdx/wiki/Hiero",className:I.a.link,children:"Hiero"})," ","instead."]})]}),Object(w.jsxs)("div",{children:[Object(w.jsxs)("div",{className:I.a.charactersLabelContainer,children:[Object(w.jsxs)("label",{className:"".concat(I.a.label," ").concat(I.a.charactersLabel),children:["Characters",Object(w.jsx)(O.a,{icon:"fas fa-question",className:I.a.questionMark,title:"Characters you want to be included in the final font (symbols made from multiple unicode characters won't work, e.g. more complex emojis)"})]}),t]}),Object(w.jsx)("textarea",{"aria-label":"characters input",className:I.a.charactersTextArea,onChange:function(t){return e.setState({charString:t.target.value})},onBlur:this.handleCharSetInput,value:this.state.charString}),Object(w.jsx)("button",{onClick:this.removeDuplicatesFromCharString,className:I.a.smallFormButton,disabled:this.isCharStringValid(),children:"Remove duplicates"})]}),Object(w.jsxs)("div",{className:I.a.parameters,children:[Object(w.jsxs)("div",{className:I.a.commonParameters,children:[Object(w.jsxs)("div",{children:[Object(w.jsx)("label",{className:I.a.label,children:"Common"}),Object(w.jsx)("label",{className:I.a.commonLabel,children:"Size"}),Object(w.jsx)("input",{"aria-label":"default width input",className:I.a.commonInput,type:"number",onChange:function(t){return e.handleDefaultValueChange(t,"defaultWidth")},value:this.state.defaultWidth}),Object(w.jsx)(O.a,{icon:"fas fa-times",className:I.a.times}),Object(w.jsx)("input",{"aria-label":"default height input",className:I.a.commonInput,type:"number",onChange:function(t){return e.handleDefaultValueChange(t,"defaultHeight")},value:this.state.defaultHeight}),Object(w.jsx)(O.a,{icon:"fas fa-question",className:I.a.questionMark,title:"Default size of one character in pixels"})]}),Object(w.jsxs)("div",{children:[Object(w.jsx)("label",{className:I.a.commonLabel,children:"Base"}),Object(w.jsx)("input",{"aria-label":"characters base input",className:"".concat(I.a.commonInput," ").concat(this.isBaseValid()?"":I.a.commonInputIvalid),type:"number",onChange:function(t){return e.handleDefaultValueChange(t,"base")},value:this.state.base}),Object(w.jsx)(O.a,{icon:"fas fa-question",className:I.a.questionMark,title:'Distance from the top of the letter to the line base in pixels (character parts below this will stick out like in "g" or "j")'})]}),Object(w.jsx)("button",{onClick:this.downloadTemplate,className:I.a.formButton,disabled:!this.isSlotArrayValid()||!this.isBaseValid(),children:"".concat(Object(k.a)()?"save":"download"," template")})]}),Object(w.jsxs)("div",{className:I.a.perCharacterParameters,children:[Object(w.jsxs)("label",{className:I.a.label,children:["Per character",Object(w.jsx)(O.a,{icon:"fas fa-question",className:I.a.questionMark,title:"Override default size per character"})]}),Object(w.jsx)(N,{charSet:this.state.charSet,defaultHeight:this.state.defaultHeight,defaultWidth:this.state.defaultWidth,handleDimensionChange:this.handleDimensionChange,resetCharacterDimensions:this.resetCharacterDimensions})]})]})]}),Object(w.jsxs)("div",{children:[Object(w.jsx)("h2",{className:I.a.heading,children:"Step 1 - Create a template"}),Object(w.jsxs)("ol",{className:I.a.instructionList,children:[Object(w.jsx)("li",{className:I.a.instructionListItem,children:"Specify what characters you want included in the final font. "}),Object(w.jsx)("li",{className:I.a.instructionListItem,children:"Choose the character size and base."}),Object(w.jsx)("li",{className:I.a.instructionListItem,children:"Optionally override the size per character if you want some to be smaller or bigger than the rest."}),Object(w.jsx)("li",{className:I.a.instructionListItem,children:"Download the generated template. It\u2019s a zip archive containing two files: png and txt. Open the png in your graphics editor of choice and draw characters inside the red boundaries."}),Object(w.jsxs)("li",{className:I.a.instructionListItem,children:["Go to"," ",Object(w.jsx)(A,{children:Object(w.jsx)(B.b,{to:"/step2",className:I.a.link,children:"Step 2"})}),Object(w.jsx)(W,{children:"'Fonts -> Generate a font'"})," ","to upload the template and generate your font."]})]}),Object(w.jsxs)(A,{div:!0,children:[Object(w.jsx)("h2",{className:I.a.heading,children:"We have an offline version too"}),Object(w.jsx)("p",{className:I.a.paragraph,children:"The desktop version is also free and has the same features but is just a little bit more convenient to use ;)"}),Object(w.jsx)("div",{className:I.a.desktopWidget,children:Object(w.jsx)("iframe",{title:"Itch.io desktop widget",frameBorder:"0",src:"https://itch.io/embed/946259",width:"552",height:"167",children:Object(w.jsx)("a",{href:"https://voycawojka.itch.io/calligro",children:"Calligro by Voycawojka"})})}),Object(w.jsx)("div",{className:I.a.mobileWidget,children:Object(w.jsx)("iframe",{title:"Itch.io mobile widget",frameBorder:"0",src:"https://itch.io/embed/946259",width:"208",height:"167",children:Object(w.jsx)("a",{href:"https://voycawojka.itch.io/calligro",children:"Calligro by Voycawojka"})})})]})]})]})}}]),n}(n.Component),Object(v.a)(F.prototype,"loadTemplateListener",[g.a],Object.getOwnPropertyDescriptor(F.prototype,"loadTemplateListener"),F.prototype),Object(v.a)(F.prototype,"handleCharSetInput",[g.a],Object.getOwnPropertyDescriptor(F.prototype,"handleCharSetInput"),F.prototype),Object(v.a)(F.prototype,"removeDuplicatesFromCharString",[g.a],Object.getOwnPropertyDescriptor(F.prototype,"removeDuplicatesFromCharString"),F.prototype),Object(v.a)(F.prototype,"isCharStringValid",[g.a],Object.getOwnPropertyDescriptor(F.prototype,"isCharStringValid"),F.prototype),Object(v.a)(F.prototype,"createCharSetFromPreset",[g.a],Object.getOwnPropertyDescriptor(F.prototype,"createCharSetFromPreset"),F.prototype),Object(v.a)(F.prototype,"isSlotArrayValid",[g.a],Object.getOwnPropertyDescriptor(F.prototype,"isSlotArrayValid"),F.prototype),Object(v.a)(F.prototype,"isBaseValid",[g.a],Object.getOwnPropertyDescriptor(F.prototype,"isBaseValid"),F.prototype),Object(v.a)(F.prototype,"handleDefaultValueChange",[g.a],Object.getOwnPropertyDescriptor(F.prototype,"handleDefaultValueChange"),F.prototype),Object(v.a)(F.prototype,"handleDimensionChange",[g.a],Object.getOwnPropertyDescriptor(F.prototype,"handleDimensionChange"),F.prototype),Object(v.a)(F.prototype,"resetCharacterDimensions",[g.a],Object.getOwnPropertyDescriptor(F.prototype,"resetCharacterDimensions"),F.prototype),Object(v.a)(F.prototype,"downloadTemplate",[g.a],Object.getOwnPropertyDescriptor(F.prototype,"downloadTemplate"),F.prototype),Object(v.a)(F.prototype,"changePreset",[g.a],Object.getOwnPropertyDescriptor(F.prototype,"changePreset"),F.prototype),Object(v.a)(F.prototype,"presetSelectBlur",[g.a],Object.getOwnPropertyDescriptor(F.prototype,"presetSelectBlur"),F.prototype),F),E=H,U=a(6),z=a(20),G=a.n(z);var J=function(){return Object(w.jsxs)("nav",{className:G.a.container,children:[Object(w.jsxs)(B.c,{exact:!0,to:"/",className:"".concat(G.a.navLink," ").concat(G.a.navLinkLeft),activeClassName:G.a.navLinkActive,children:[Object(w.jsx)("p",{className:G.a.linkBig,children:"Step 1"}),Object(w.jsx)("p",{className:G.a.linkSmall,children:"create a template"})]}),Object(w.jsxs)(B.c,{to:"/step2",className:"".concat(G.a.navLink," ").concat(G.a.navLinkRight),activeClassName:G.a.navLinkActive,children:[Object(w.jsx)("p",{className:G.a.linkBig,children:"Step 2"}),Object(w.jsx)("p",{className:G.a.linkSmall,children:"generate your font"})]})]})},K=a(26),Q=a.n(K),Y=a(52),X=a.n(Y);var Z=function(){return Object(w.jsxs)("header",{className:Q.a.container,children:[Object(w.jsx)("h1",{className:Q.a.heading,children:Object(w.jsx)("img",{src:"logo.svg",alt:"Calligro",height:"80",width:"158",className:Q.a.logo})}),Object(w.jsx)(J,{}),Object(w.jsxs)("div",{className:Q.a.sourceNoticeContainer,children:[Object(w.jsx)("p",{className:Q.a.sourceNoticeLine1,children:"We're open source!"}),Object(w.jsx)("p",{className:Q.a.sourceNoticeLine2,children:"Feel free to contribute :D"})]}),Object(w.jsx)(X.a,{className:Q.a.githubCorner,href:"https://github.com/Voycawojka/calligro",size:"110",bannerColor:"#707070",octoColor:"#202020"})]})},$=a(31),ee=a.n($);var te=function(e){var t=e.socialLinks.map((function(e){return Object(w.jsx)(R,{className:ee.a.socialLink,href:e.url,"aria-label":e.label,children:Object(w.jsx)(O.a,{icon:e.icon,className:ee.a.icon})},e.url)}));return Object(w.jsxs)("div",{className:ee.a.container,children:[Object(w.jsx)("h3",{className:ee.a.name,children:e.name}),Object(w.jsx)("div",{className:ee.a.socialContainer,children:t})]})};var ae=function(){return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(te,{name:"Filip A. Kowalski",socialLinks:[{url:"https://ideasalmanac.com",icon:"fa fa-globe-africa",label:"ideasalmanac"},{url:"https://twitter.com/IdeasAlmanac",icon:"fab fa-twitter",label:"twitter"},{url:"https://github.com/Voycawojka",icon:"fab fa-github",label:"github"}]}),Object(w.jsx)(te,{name:"Dominik J\xf3zefiak",socialLinks:[{url:"https://github.com/domlj",icon:"fab fa-github",label:"github"}]})]})},ne=a(27),re=a.n(ne);var ie=function(){return Object(w.jsxs)("footer",{className:re.a.container,children:[Object(w.jsx)(B.b,{to:"/policy",className:"".concat(re.a.policy," ").concat(re.a.link),children:"Privacy policy"}),Object(w.jsx)("div",{className:re.a.authors,children:Object(w.jsx)(ae,{})}),Object(w.jsxs)("div",{className:re.a.linkContainer,children:[Object(w.jsx)(R,{href:"https://github.com/Voycawojka/calligro/issues",className:re.a.link,children:"Found a bug?"}),Object(w.jsx)(R,{href:"https://github.com/Voycawojka/calligro/issues",className:re.a.link,children:"Have a feature request?"})]})]})},oe=a(42),ce=a.n(oe);var se,le,ue=function(){return Object(w.jsxs)("div",{className:ce.a.policyContainer,children:[Object(w.jsx)("h1",{children:"Calligro Privacy Policy"}),Object(w.jsx)("p",{children:"Calligro is an open source tool served on a static web server (Github Pages). We don't ask for nor collect any personal data. All information provided (and all files uploaded) by the user stay inside the user's browser."}),Object(w.jsx)("h2",{children:"Cookies and local storage"}),Object(w.jsx)("p",{children:"We use cookies and local storage (small files and pieces of data stored on the user's device) for two pursposes:"}),Object(w.jsxs)("ul",{children:[Object(w.jsx)("li",{children:"user's convenience (e.g. to rememeber last chosen settings),"}),Object(w.jsx)("li",{children:"analytics (more in the Analytics section below)"})]}),Object(w.jsx)("p",{children:"Browsers allow users to view, remove or even entirely block cookies. Check your browser's manual to access those options."}),Object(w.jsx)("h2",{children:"Analytics"}),Object(w.jsx)("p",{children:"We use Google Analytics for analytics purposes. Therefore, all analytics data is stored on Google's servers."}),Object(w.jsx)("p",{children:"By default, we don't allow Google Analytics to use analytics or ad related tracking cookies. If you consent by clicking Accept on our cookie popup, we use analytics related cookies for better insight. We don't use ad related cookies regardless of consent."}),Object(w.jsx)("h2",{children:"About this policy"}),Object(w.jsx)("p",{children:"Please note we can change this privacy policy without notice."}),Object(w.jsx)(B.b,{to:"/",className:ce.a.menuLink,children:"Back to Calligro"})]})},he=a(43),pe=a.n(he),de=a(21),be=a.n(de),je=(se=function(e){Object(m.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(b.a)(this,a),(n=t.call(this,e)).state={acknowledged:!1},n}return Object(j.a)(a,[{key:"componentDidMount",value:function(){this.setState({acknowledged:"true"===pe.a.get("cookies-acknowledged")},this.updateAnalytics)}},{key:"handleExit",value:function(){pe.a.set("cookies-acknowledged","true",{expires:1e3}),this.setState({acknowledged:!0},this.updateAnalytics)}},{key:"updateAnalytics",value:function(){var e=this.state.acknowledged?"granted":"denied";window.gtag("consent","update",{analytics_storage:e})}},{key:"render",value:function(){return this.state.acknowledged?null:Object(w.jsxs)("div",{className:be.a.container,children:[Object(w.jsx)("h2",{className:be.a.heading,children:"We use cookies"}),Object(w.jsxs)("div",{className:be.a.content,children:[Object(w.jsx)("img",{className:be.a.image,src:"cookie.svg",alt:"cookie",height:"203",width:"183"}),Object(w.jsxs)("div",{className:be.a.details,children:[Object(w.jsxs)("ul",{className:be.a.list,children:[Object(w.jsx)("li",{className:be.a.listItem,children:"for your convienience"}),Object(w.jsx)("li",{className:be.a.listItem,children:"for analytics"})]}),Object(w.jsxs)("div",{className:be.a.linkContainer,children:[Object(w.jsx)(B.b,{to:"/policy",className:be.a.link,children:"Learn more"}),Object(w.jsx)("button",{onClick:this.handleExit,className:be.a.link,children:"Accept"})]})]})]})]})}}]),a}(n.Component),Object(v.a)(se.prototype,"handleExit",[g.a],Object.getOwnPropertyDescriptor(se.prototype,"handleExit"),se.prototype),Object(v.a)(se.prototype,"updateAnalytics",[g.a],Object.getOwnPropertyDescriptor(se.prototype,"updateAnalytics"),se.prototype),se),me=a(44),fe=a.n(me),ve=function(e){Object(m.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(b.a)(this,a),(n=t.call(this,e)).timer=void 0,n.state={isLoaderOn:!1},n}return Object(j.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.timer=setTimeout((function(){e.setState({isLoaderOn:!0})}),300)}},{key:"componentWillUnmount",value:function(){this.timer&&clearTimeout(this.timer)}},{key:"render",value:function(){return this.state.isLoaderOn?Object(w.jsx)("div",{className:fe.a.container,children:Object(w.jsx)(O.a,{icon:"fas fa-cog fa-spin",className:fe.a.icon})}):null}}]),a}(n.Component),ge=window.require?window.require("electron").ipcRenderer:null,Oe=(le=function(e){Object(m.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(b.a)(this,a),(n=t.call(this,e)).state={url:"/"},n}return Object(j.a)(a,[{key:"componentDidMount",value:function(){null===ge||void 0===ge||ge.on("navigation",this.navigationListener)}},{key:"componentWillUnmount",value:function(){null===ge||void 0===ge||ge.removeListener("navigation",this.navigationListener)}},{key:"navigationListener",value:function(e,t){this.setState({url:t})}},{key:"render",value:function(){return Object(w.jsx)(U.a,{to:this.state.url})}}]),a}(n.Component),Object(v.a)(le.prototype,"navigationListener",[g.a],Object.getOwnPropertyDescriptor(le.prototype,"navigationListener"),le.prototype),le);function ye(e,t){var a=e.split(".").map((function(e){return Number.parseInt(e)})),n=Object(d.a)(a,3),r=n[0],i=n[1],o=n[2],c=t.split(".").map((function(e){return Number.parseInt(e)})),s=Object(d.a)(c,3),l=s[0],u=s[1],h=s[2],p=_e(r,l);if("equal"!==p)return p;var b=_e(i,u);return"equal"!==b?b:_e(o,h)}function _e(e,t){return e>t?"greater":e<t?"lesser":"equal"}function xe(e){return fetch("https://itch.io/api/1/x/wharf/latest?target=voycawojka/calligro&channel_name=".concat(e)).then((function(e){return e.json()})).then((function(e){if(e.errors)throw new Error("Cannot fetch latest version information [".concat(e.errors.join(", "),"]"));return e}))}function ke(e){var t="greater"===ye(e,"0.2.0")?"v".concat(e):"v.".concat(e);return fetch("https://api.github.com/repos/voycawojka/calligro/releases/tags/".concat(t)).then((function(e){return e.json()}))}function we(e,t){return Ne.apply(this,arguments)}function Ne(){return(Ne=Object(l.a)(s.a.mark((function e(t,a){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,xe(a);case 3:if(n=e.sent,"lesser"===ye(t,n.latest)){e.next=6;break}return e.abrupt("return",{type:"up_to_date"});case 6:return e.next=8,ke(n.latest);case 8:return r=e.sent,e.abrupt("return",{type:"new_available",name:r.name,body:r.body,version:n.latest});case 12:return e.prev=12,e.t0=e.catch(0),console.error("Error while checking for a newer version",e.t0),e.abrupt("return",{type:"up_to_date"});case 16:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}var Ce=a(36),Se=a.n(Ce);var Le,De,Pe=function(e){return Object(w.jsxs)("div",{className:Se.a.container,children:[Object(w.jsx)("p",{className:Se.a.title,children:e.title}),Object(w.jsx)("button",{className:Se.a.closeButton,onClick:e.closeHandler,children:Object(w.jsx)(O.a,{icon:"fas fa-times",className:Se.a.times})}),Object(w.jsx)("div",{children:e.children})]})},Ie=a(24),Be=a.n(Ie),Ae=window.require?window.require("electron").ipcRenderer:null,Ve=(Le=function(e){Object(m.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(b.a)(this,a),(n=t.call(this,e)).state={},n}return Object(j.a)(a,[{key:"componentDidMount",value:function(){null===Ae||void 0===Ae||Ae.on("version",this.versionListener),null===Ae||void 0===Ae||Ae.send("request-version")}},{key:"componentWillUnmount",value:function(){null===Ae||void 0===Ae||Ae.removeListener("version",this.versionListener)}},{key:"versionListener",value:function(){var e=Object(l.a)(s.a.mark((function e(t,a){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=null,"linux"===a.platform&&(n="linux"),"win32"===a.platform&&(n="win-64"),!n){e.next=8;break}return e.next=6,we(a.version,n);case 6:"new_available"===(r=e.sent).type&&this.setState({newVersionName:r.name,newVersionDescription:r.body,newVersionCount:r.version,currentVersion:a.version});case 8:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.setState({newVersionName:void 0})}},{key:"render",value:function(){if(this.state.newVersionName){var e,t=null===(e=this.state.newVersionDescription)||void 0===e?void 0:e.split("\n").map((function(e,t){return Object(w.jsx)("p",{className:Be.a.descriptionParagraph,children:e},t)}));return Object(w.jsx)(Pe,{title:"New version available",closeHandler:this.close,children:Object(w.jsxs)("div",{className:Be.a.container,children:[Object(w.jsxs)("div",{className:Be.a.content,children:["Version",Object(w.jsxs)("span",{className:Be.a.contentBold,children:[" ",this.state.newVersionCount," "]}),"available (your version: ",Object(w.jsx)("span",{className:Be.a.contentBold,children:this.state.currentVersion}),")"]}),Object(w.jsxs)("div",{className:Be.a.content,children:["Name:",Object(w.jsxs)("span",{className:Be.a.contentBold,children:[" ",this.state.newVersionName]})]}),Object(w.jsx)(R,{className:Be.a.link,href:"https://voycawojka.itch.io/calligro",children:"Download from itch.io"}),Object(w.jsx)("div",{className:Be.a.content,children:"Changelog:"}),Object(w.jsx)("div",{children:t})]})})}return null}}]),a}(n.Component),Object(v.a)(Le.prototype,"versionListener",[g.a],Object.getOwnPropertyDescriptor(Le.prototype,"versionListener"),Le.prototype),Object(v.a)(Le.prototype,"close",[g.a],Object.getOwnPropertyDescriptor(Le.prototype,"close"),Le.prototype),Le),Me=a(25),We=a.n(Me),qe=window.require?window.require("electron").ipcRenderer:null,Fe=(De=function(e){Object(m.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(b.a)(this,a),(n=t.call(this,e)).state={active:!1,version:""},n}return Object(j.a)(a,[{key:"componentDidMount",value:function(){var e=this;null===qe||void 0===qe||qe.on("about-popup",(function(t,a){e.setState({active:!0,version:a})}))}},{key:"componentWillUnmount",value:function(){null===qe||void 0===qe||qe.removeListener("about-popup",(function(){}))}},{key:"closeWindow",value:function(){this.setState({active:!1})}},{key:"render",value:function(){return this.state.active?Object(w.jsx)(Pe,{title:"About",closeHandler:this.closeWindow,children:Object(w.jsxs)("div",{className:We.a.container,children:[Object(w.jsxs)("div",{className:We.a.disclaimer,children:[Object(w.jsx)("p",{className:We.a.paragraph,children:"Calligro lets you generate custom fonts from images created in graphics software like Gimp, Photoshop, Aseprite and others."}),Object(w.jsxs)("p",{className:We.a.paragraph,children:["If you\u2019re looking to convert a truetype font into a BMFont, try tools like the original"," ",Object(w.jsx)(R,{href:"https://www.angelcode.com/products/bmfont/",className:We.a.link,children:"BMFont"})," ","or"," ",Object(w.jsx)(R,{href:"https://github.com/libgdx/libgdx/wiki/Hiero",className:We.a.link,children:"Hiero"})," ","instead."]})]}),Object(w.jsxs)("div",{className:We.a.version,children:["Version: ",this.state.version]}),Object(w.jsx)("div",{className:We.a.authorsContainer,children:Object(w.jsx)(ae,{})})]})}):null}}]),a}(n.Component),Object(v.a)(De.prototype,"closeWindow",[g.a],Object.getOwnPropertyDescriptor(De.prototype,"closeWindow"),De.prototype),De),Re=r.a.lazy((function(){return a.e(3).then(a.bind(null,81))}));var Te=function(){return Object(w.jsx)(B.a,{children:Object(w.jsxs)(U.d,{children:[Object(w.jsx)(U.b,{path:"/policy",children:Object(w.jsx)(ue,{})}),Object(w.jsxs)(U.b,{children:[Object(w.jsx)(A,{children:Object(w.jsx)(Z,{})}),Object(w.jsx)(U.b,{exact:!0,path:"/",children:Object(w.jsx)(E,{})}),Object(w.jsx)(U.b,{exact:!0,path:"/step2",children:Object(w.jsx)(n.Suspense,{fallback:Object(w.jsx)(ve,{}),children:Object(w.jsx)(Re,{})})}),Object(w.jsxs)(A,{children:[Object(w.jsx)(ie,{}),Object(w.jsx)(je,{})]}),Object(w.jsxs)(W,{children:[Object(w.jsx)(Oe,{}),Object(w.jsx)(Ve,{}),Object(w.jsx)(Fe,{})]})]})]})})},He=function(e){e&&e instanceof Function&&a.e(4).then(a.bind(null,80)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,i=t.getLCP,o=t.getTTFB;a(e),n(e),r(e),i(e),o(e)}))};o.a.render(Object(w.jsx)(r.a.StrictMode,{children:Object(w.jsx)(Te,{})}),document.getElementById("root")),He()}],[[75,1,2]]]);
//# sourceMappingURL=main.e1b65707.chunk.js.map