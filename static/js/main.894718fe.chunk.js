(this.webpackJsonpcalligro=this.webpackJsonpcalligro||[]).push([[0],{14:function(t,e,a){t.exports={container:"generationCharacterList_container__3GuOi",character:"generationCharacterList_character__2rExn",input:"generationCharacterList_input__39dSd",inputInvalid:"generationCharacterList_inputInvalid__1jHOk",times:"generationCharacterList_times___04Ni",undoButton:"generationCharacterList_undoButton__3rwB-",characterContainer:"generationCharacterList_characterContainer__27T8l",button:"generationCharacterList_button__1GLlC",buttonContainer:"generationCharacterList_buttonContainer__3-ogl"}},15:function(t,e,a){t.exports={container:"navbar_container__37WB4",linkBig:"navbar_linkBig__zmIT9",linkSmall:"navbar_linkSmall__2Brh4",navLink:"navbar_navLink__3NK4p",navLinkLeft:"navbar_navLinkLeft__UA8H7",navLinkRight:"navbar_navLinkRight__3BYWT",navLinkActive:"navbar_navLinkActive__JHOaQ"}},2:function(t,e,a){t.exports={container:"generationView_container__3Fgnr",parameters:"generationView_parameters__29X54",charactersTextArea:"generationView_charactersTextArea__1PFxl",instructionList:"generationView_instructionList__SFUDy",instructionListItem:"generationView_instructionListItem__2OGuO",label:"generationView_label__3Iy_E",commonLabel:"generationView_commonLabel__2vnxY",commonInput:"generationView_commonInput__2dbDD",commonInputIvalid:"generationView_commonInputIvalid__20XvO",heading:"generationView_heading__3uRe_",paragraph:"generationView_paragraph__3w3_W",downloadButton:"generationView_downloadButton__U1Nsf",times:"generationView_times__1kN51",questionMark:"generationView_questionMark__P_5Tb",commonContainer:"generationView_commonContainer__137NA",link:"generationView_link__3yZP-"}},21:function(t,e,a){t.exports={container:"footer_container__3_wfr",policy:"footer_policy__JXBvy",link:"footer_link__3MEnl",authors:"footer_authors__NS734",linkContainer:"footer_linkContainer__UVDcd"}},26:function(t,e,a){t.exports={container:"dropzone_container__3YvRs",inputContainer:"dropzone_inputContainer__OD9Y7",label:"dropzone_label__xsqTw",fileName:"dropzone_fileName__CjjRG",input:"dropzone_input__3YtRE"}},27:function(t,e,a){t.exports={container:"author_container__pl8h1",socialLink:"author_socialLink__SgCuK",name:"author_name__2Hjyj",socialContainer:"author_socialContainer__LVnRs",icon:"author_icon__5pj1k"}},3:function(t,e,a){t.exports={container:"fontCreationView_container__1ZXJX",instructionList:"fontCreationView_instructionList__FwOFE",instructionListItem:"fontCreationView_instructionListItem__vUBPN",heading:"fontCreationView_heading__1GFxr",feature:"fontCreationView_feature__2jP9S",goodbye:"fontCreationView_goodbye__2ZSns",featureList:"fontCreationView_featureList__3Ri7d",dropzones:"fontCreationView_dropzones__3zbhE",options:"fontCreationView_options__gw4BI",label:"fontCreationView_label__10O7T",optionsLabel:"fontCreationView_optionsLabel__2o_9q",optionsInput:"fontCreationView_optionsInput__4n2s9",times:"fontCreationView_times__3Lh99",questionMark:"fontCreationView_questionMark__1BQzJ",option:"fontCreationView_option__3bbJO",downloadButton:"fontCreationView_downloadButton__3Z-bI"}},36:function(t,e,a){t.exports={container:"header_container__3kiaD",logo:"header_logo__1GKSW"}},47:function(t,e,a){},58:function(t,e,a){"use strict";a.r(e);var n,i=a(0),r=a(1),o=a.n(r),s=a(38),c=a.n(s),l=(a(47),a(4)),h=a.n(l),u=a(9),p=a(12),d=a(20),m=a(17),f=a(18),b=a(19),j=a(25),g=a(24),v=a(5),O=a(8);function y(t,e,a){return e.split("\n").map((function(t){return t.split(" ")})).flatMap((function(e){var n=[[]];return e.forEach((function(e){var i=n[n.length-1];t.measureText("".concat(i.join(" ")," ").concat(e)).width<a?i.push(e):n.push([e])})),n.map((function(t){return t.join(" ")}))}))}function x(t,e,a){var n=document.createElement("canvas");n.width=t,n.height=e;var i=n.getContext("2d");if(!i)throw new Error("Your browser doesn't support 2d canvas context. Use a modern browser, please.");return a&&(i.fillStyle=a,i.fillRect(0,0,n.width,n.height)),[n,i]}function _(t){return new Promise((function(e,a){t.toBlob((function(t){return t?e(t):a()}))}))}function w(t){return new Promise((function(e){var a=URL.createObjectURL(t),n=document.createElement("img");n.onload=function(){var t=x(n.width,n.height),i=Object(u.a)(t,2),r=i[0],o=i[1];o.drawImage(n,0,0),n.remove(),URL.revokeObjectURL(a),e([r,o])},n.src=a}))}function k(t,e){var a=function(t,e){var a={packedRects:[],width:0,height:0},n=0,i=0,r=0,o=0;return a.packedRects=t.sort((function(t,e){return e.h-t.h})).map((function(t){n+t.w>e&&(n=0,i=o),n+t.w>r&&(r=n+t.w),i+t.h>o&&(o=i+t.h);var a={x:n,y:i,sourceRect:t};return n+=t.w,a})),a.width=r,a.height=o,a}(e,t.width),n=a.width,i=a.height,r=a.packedRects,o=x(n,i),s=Object(u.a)(o,2),c=s[0],l=s[1];return r.forEach((function(e){var a=e.x,n=e.y,i=e.sourceRect,r=i.w,o=i.h;l.drawImage(t,i.x,i.y,r,o,a,n,r,o)})),[c,r]}function N(t){var e=atob(t),a=JSON.parse(e);if(0!==a.version)throw new Error("Only templates version '0' are supported, instead got version '".concat(a.version,"'"));if(!Number.isInteger(a.base))throw new Error("Property 'base' must be an integer, instead got: ".concat(typeof a.base," '").concat(a.base,"'"));if(!Array.isArray(a.slots))throw new Error("Property 'slots' must be an array, instead got: ".concat(a.slots," '").concat(a.slots,"'"));var n=a.slots.find((function(t){return!Array.isArray(t)||3!==t.length||t.find((function(t){return!Number.isInteger(t)}))}));if(n)throw new Error("Each slot must be a three element array (integers only). Instead found: ".concat(JSON.stringify(n)));return a}function C(t,e,a,n,i){t.fillStyle="black",t.textAlign="left",function(t,e,a){var n=a.x,i=a.y,r=a.size,o=a.maxWidth,s=a.maxHeight,c=r;t.font="".concat(c,"px serif");var l=y(t,e,o);if(s)for(;l.length*c>=s;)c--,t.font="".concat(c,"px serif"),l=y(t,e,o);l.forEach((function(e,a){return t.fillText(e,n,i+a*c,o)}))}(t,"1) Draw characters inside the red boundaries*.\n\n2) Upload this file back to Calligro\n\n3) Paste the template code and you got yourself a font\n\n*Green lines signify the letter base.",{x:e+.05*n,y:a+.1*i,maxWidth:.9*n,maxHeight:.8*i,size:i/5})}function I(t,e,a){var n,i=null!==(n=a.value)&&void 0!==n?n:a.get;if(!i||!(i instanceof Function))throw Error("Memoize only supports non-setter functions.");var r=a.value?"value":"get",o=new Map;a[r]=function(){for(var t=arguments.length,e=new Array(t),a=0;a<t;a++)e[a]=arguments[a];var n=JSON.stringify(e),r=o.get(n),s=r||i.apply(this,e);return o.set(n,s),s}}var D=(n=function(){function t(e,a){Object(f.a)(this,t),this.slots=e,this.base=a,this.canvas=void 0,this.ctx=void 0;var n=x(this.w*this.slotDim.w,this.h*this.slotDim.h,"white"),i=Object(u.a)(n,2);this.canvas=i[0],this.ctx=i[1]}return Object(b.a)(t,[{key:"getSlotPosition",value:function(t){return{x:t%this.w*this.slotDim.w,y:Math.floor(t/this.w)*this.slotDim.h}}},{key:"generateImageBlob",value:function(){var t=this;return C(this.ctx,0,0,this.slotDim.w,this.slotDim.h),this.slots.forEach((function(e,a){var n=t.getSlotPosition(a+1),i=n.x,r=n.y;!function(t,e,a){var n=a.x,i=a.y,r=a.w,o=a.h,s=a.base,c=a.vertMargin;t.strokeStyle="black",t.strokeRect(n,i,r,o);var l=n+r/2-e.width/2,h=i+o/2-e.height/2;t.strokeStyle="green",t.beginPath(),t.moveTo(n,h+s),t.lineTo(n+r,h+s),t.stroke(),t.strokeStyle="red",t.clearRect(l,h,e.width,e.height),t.strokeRect(l,h,e.width,e.height),t.fillStyle="black",t.font="".concat(.8*c,"px serif"),t.textAlign="center",t.fillText(e.character,n+r/2,i+o-c/4,r)}(t.ctx,e,{x:i,y:r,w:t.slotDim.w,h:t.slotDim.h,base:t.base,vertMargin:t.slotDim.hMargin})})),_(this.canvas)}},{key:"generateTemplateCode",value:function(){var t={version:0,slots:this.slots.map((function(t){return[t.character.charCodeAt(0),t.width,t.height]})),base:this.base};return btoa(JSON.stringify(t))}},{key:"w",get:function(){return Math.ceil(Math.sqrt(this.slots.length+1))}},{key:"h",get:function(){return Math.ceil(Math.sqrt(this.slots.length+1))}},{key:"slotDim",get:function(){var t=Math.max.apply(null,this.slots.map((function(t){return t.width}))),e=Math.max.apply(null,this.slots.map((function(t){return t.height}))),a=1.3*e;return{w:1.3*t,h:a,hMargin:(a-e)/2}}}]),t}(),Object(v.a)(n.prototype,"w",[I],Object.getOwnPropertyDescriptor(n.prototype,"w"),n.prototype),Object(v.a)(n.prototype,"h",[I],Object.getOwnPropertyDescriptor(n.prototype,"h"),n.prototype),Object(v.a)(n.prototype,"slotDim",[I],Object.getOwnPropertyDescriptor(n.prototype,"slotDim"),n.prototype),Object(v.a)(n.prototype,"generateImageBlob",[I],Object.getOwnPropertyDescriptor(n.prototype,"generateImageBlob"),n.prototype),Object(v.a)(n.prototype,"generateTemplateCode",[I],Object.getOwnPropertyDescriptor(n.prototype,"generateTemplateCode"),n.prototype),n);function L(t,e,a){return S.apply(this,arguments)}function S(){return(S=Object(p.a)(h.a.mark((function t(e,a,n){var i,r,o,s,c,l,p,d,m,f,b,j,g;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=N(a),r=i.slots.map((function(t){var e=Object(u.a)(t,3),a=e[0],n=e[1],i=e[2];return{character:String.fromCharCode(a),width:n,height:i}})),o=new D(r,i.base),t.next=5,w(e);case 5:return s=t.sent,c=Object(u.a)(s,1),l=c[0],p=r.map((function(t,e){return{slot:t,x:o.getSlotPosition(e+1).x+o.slotDim.w/2-(t.width-2)/2,y:o.getSlotPosition(e+1).y+o.slotDim.h/2-(t.height-2)/2,w:t.width-2,h:t.height-2}})),d=k(l,p),m=Object(u.a)(d,2),f=m[0],b=m[1],t.next=12,_(f);case 12:return j=t.sent,g={info:{face:"calligro-custom",size:12,stretchH:100,aa:1,padding:{up:0,right:0,down:0,left:0},spacing:{horizontal:n.horizontalSpacing,vertical:n.verticalSpacing},outline:0},common:{lineHeight:n.lineHeight,base:i.base,scaleW:l.width,scaleH:l.height,pages:1},pages:[{id:0,file:"calligro-page-0.png"}],chars:b.map((function(t){return{id:t.sourceRect.slot.character.charCodeAt(0),x:t.x,y:t.y,width:t.sourceRect.w,height:t.sourceRect.h,xoffset:0,yoffset:0,xadvance:t.sourceRect.w,page:0,chnl:15}}))},t.abrupt("return",[g,[j]]);case 15:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var V=a(30);function z(t,e){var a=e.map((function(t){var e=Object(u.a)(t,2),a=e[0],n=e[1];return"".concat(a,"=").concat(n.toString())})).join(" ");return"".concat(t," ").concat(a)}function M(t){var e=t.info,a=z("info",[["face",e.face],["size",e.size],["unicode","1"],["stretchH",e.stretchH],["aa",e.stretchH],["padding","".concat(e.padding.up,",").concat(e.padding.right,",").concat(e.padding.down,",").concat(e.padding.left)],["spacing","".concat(e.spacing.horizontal,",").concat(e.spacing.vertical)]]),n=t.common,i=z("common",[["lineHeight",n.lineHeight],["base",n.base],["scaleW",n.scaleW],["scaleH",n.scaleH],["pages",n.pages]]),r=t.pages.map((function(t){return z("page",[["id",t.id],["file",t.file]])})),o=t.chars.map((function(t){return z("char",[["id",t.id],["x",t.x],["y",t.y],["width",t.width],["height",t.height],["xoffset",t.xoffset],["yoffset",t.yoffset],["xadvance",t.xadvance],["page",t.page],["chnl",t.chnl]])}));return[a,i].concat(Object(V.a)(r),Object(V.a)(o)).join("\n")}var P=a(41);function B(t,e){var a=document.createElement("a");a.href=URL.createObjectURL(e),a.download=t,a.click(),URL.revokeObjectURL(a.href),a.remove()}function H(t,e){return T.apply(this,arguments)}function T(){return(T=Object(p.a)(h.a.mark((function t(e,a){var n,i;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=Object(P.a)(a),t.next=3,n.blob();case 3:i=t.sent,B("".concat(e,".zip"),i);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function A(t,e){return R.apply(this,arguments)}function R(){return(R=Object(p.a)(h.a.mark((function t(e,a){var n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=[{name:"calligro-font.fnt",input:e}].concat(Object(V.a)(a.map((function(t,e){return{name:"calligro-page-".concat(e,".png"),input:t}})))),t.abrupt("return",H("calligro-font",n));case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var E,F=a(3),q=a.n(F),U=a(26),W=a.n(U),J=(E=function(t){Object(j.a)(a,t);var e=Object(g.a)(a);function a(t){var n;return Object(f.a)(this,a),(n=e.call(this,t)).templateInput=void 0,n.templateInput=o.a.createRef(),n}return Object(b.a)(a,[{key:"handleFileInput",value:function(t){t&&t.type===this.props.dataType&&this.props.handleDropzoneInput(this.props.stateTarget,t)}},{key:"handleInput",value:function(){var t,e,a=null===(t=this.templateInput.current)||void 0===t||null===(e=t.files)||void 0===e?void 0:e[0];this.handleFileInput(a)}},{key:"handleDrop",value:function(t){t.preventDefault();var e=t.dataTransfer.files[0];this.handleFileInput(e)}},{key:"dragOver",value:function(t){t.preventDefault()}},{key:"dragEnter",value:function(t){t.preventDefault()}},{key:"dragLeave",value:function(t){t.preventDefault()}},{key:"render",value:function(){var t=this.props.templateName?Object(i.jsxs)("p",{className:W.a.fileName,children:["Uploaded ",this.props.templateName]}):null;return Object(i.jsxs)("div",{className:W.a.container,onDrop:this.handleDrop,onDragOver:this.dragOver,onDragEnter:this.dragEnter,onDragLeave:this.dragLeave,children:[Object(i.jsxs)("label",{className:W.a.label,children:["Drag&drop the ",this.props.inputName]}),Object(i.jsx)("div",{className:W.a.inputContainer,children:Object(i.jsx)("input",{className:W.a.input,type:"file",ref:this.templateInput,onChange:this.handleInput,accept:this.props.acceptedInputType,title:" "})}),t]})}}]),a}(r.Component),Object(v.a)(E.prototype,"handleInput",[O.a],Object.getOwnPropertyDescriptor(E.prototype,"handleInput"),E.prototype),Object(v.a)(E.prototype,"handleDrop",[O.a],Object.getOwnPropertyDescriptor(E.prototype,"handleDrop"),E.prototype),Object(v.a)(E.prototype,"dragEnter",[O.a],Object.getOwnPropertyDescriptor(E.prototype,"dragEnter"),E.prototype),Object(v.a)(E.prototype,"dragLeave",[O.a],Object.getOwnPropertyDescriptor(E.prototype,"dragLeave"),E.prototype),E);var G,X=function(t){var e,a=null!==(e=t.className)&&void 0!==e?e:"";return Object(i.jsx)("i",{className:"".concat(t.icon," ").concat(a),title:t.title})},Y=(G=function(t){Object(j.a)(a,t);var e=Object(g.a)(a);function a(t){var n;return Object(f.a)(this,a),(n=e.call(this,t)).state={horizontalMargin:0,verticalMargin:0,lineHeight:0},n}return Object(b.a)(a,[{key:"handleDropzoneInput",value:function(t,e){this.setState((function(a){return Object(m.a)(Object(m.a)({},a),{},Object(d.a)({},t,e))}))}},{key:"isInputsValid",value:function(){var t=!!this.state.templateCode&&"text/plain"===this.state.templateCode.type;return!!this.state.template&&"image/png"===this.state.template.type&&t}},{key:"handleNumericalInput",value:function(t,e){var a=parseInt(t.target.value,10);a>=0&&this.setState((function(t){return Object(m.a)(Object(m.a)({},t),{},Object(d.a)({},e,a))}))}},{key:"downloadFont",value:function(){var t=Object(p.a)(h.a.mark((function t(){var e,a,n,i,r,o;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.state.template&&this.state.templateCode){t.next=2;break}return t.abrupt("return");case 2:return e=this.state.template,t.next=5,this.state.templateCode.text();case 5:return a=t.sent,t.next=8,L(e,a,{horizontalSpacing:this.state.horizontalMargin,verticalSpacing:this.state.verticalMargin,lineHeight:this.state.lineHeight});case 8:n=t.sent,i=Object(u.a)(n,2),r=i[0],o=i[1],A(M(r),o);case 14:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t,e,a=this;return Object(i.jsxs)("div",{className:q.a.container,children:[Object(i.jsxs)("div",{children:[Object(i.jsxs)("div",{className:q.a.dropzones,children:[Object(i.jsx)(J,{inputName:"image",acceptedInputType:".png",dataType:"image/png",stateTarget:"template",handleDropzoneInput:this.handleDropzoneInput,templateName:null===(t=this.state.template)||void 0===t?void 0:t.name}),Object(i.jsx)(J,{inputName:"code file",acceptedInputType:".txt",dataType:"text/plain",stateTarget:"templateCode",handleDropzoneInput:this.handleDropzoneInput,templateName:null===(e=this.state.templateCode)||void 0===e?void 0:e.name})]}),Object(i.jsxs)("div",{className:q.a.options,children:[Object(i.jsx)("label",{className:q.a.label,children:"Font options"}),Object(i.jsxs)("div",{className:q.a.option,children:[Object(i.jsx)("label",{className:q.a.optionsLabel,children:"Margin"}),Object(i.jsx)("input",{className:q.a.optionsInput,type:"number",onChange:function(t){return a.handleNumericalInput(t,"horizontalMargin")},value:this.state.horizontalMargin}),Object(i.jsx)(X,{icon:"fas fa-times",className:q.a.times}),Object(i.jsx)("input",{className:q.a.optionsInput,type:"number",onChange:function(t){return a.handleNumericalInput(t,"verticalMargin")},value:this.state.verticalMargin}),Object(i.jsx)(X,{icon:"fas fa-question",className:q.a.questionMark,title:"Horizontal and vertical distance between characters in pixels"})]}),Object(i.jsxs)("div",{className:q.a.option,children:[Object(i.jsx)("label",{className:q.a.optionsLabel,children:"Line height"}),Object(i.jsx)("input",{className:q.a.optionsInput,type:"number",onChange:function(t){return a.handleNumericalInput(t,"lineHeight")},value:this.state.lineHeight}),Object(i.jsx)(X,{icon:"fas fa-question",className:q.a.questionMark,title:"Distance from the bottom of a line to the top of the next one in pixels"})]}),Object(i.jsx)("button",{onClick:this.downloadFont,className:q.a.downloadButton,disabled:!this.isInputsValid(),children:"generate font"})]})]}),Object(i.jsxs)("div",{children:[Object(i.jsxs)("div",{children:[Object(i.jsx)("h2",{className:q.a.heading,children:"Step 2 - Generate your font"}),Object(i.jsxs)("ol",{className:q.a.instructionList,children:[Object(i.jsx)("li",{className:q.a.instructionListItem,children:"Upload the template image with your characters drawn on it. Nothing is sent to a server, everything stays in your browser."}),Object(i.jsx)("li",{className:q.a.instructionListItem,children:"Upload the txt file downloaded togheter with the template image earlier (it contains template metadata)."}),Object(i.jsx)("li",{className:q.a.instructionListItem,children:"Specify the horizontal and vertical margins for characters."}),Object(i.jsx)("li",{className:q.a.instructionListItem,children:"Specify the font line height (distance from the top of one line to the top of the next one)."}),Object(i.jsx)("li",{className:q.a.instructionListItem,children:"Generate and download your BMFont."})]})]}),Object(i.jsxs)("div",{children:[Object(i.jsx)("h2",{className:q.a.heading,children:"Coming soon"}),Object(i.jsxs)("ul",{className:q.a.featureList,children:[Object(i.jsx)("li",{className:q.a.feature,children:"Kerning pairs support (that is: non-monospace fonts)"}),Object(i.jsx)("li",{className:q.a.feature,children:"XML export (some engines require it)"}),Object(i.jsx)("li",{className:q.a.feature,children:"Font preview"})]}),Object(i.jsx)("p",{className:q.a.goodbye,children:"Stay tuned ;)"})]})]})]})}}]),a}(r.Component),Object(v.a)(G.prototype,"handleDropzoneInput",[O.a],Object.getOwnPropertyDescriptor(G.prototype,"handleDropzoneInput"),G.prototype),Object(v.a)(G.prototype,"isInputsValid",[O.a],Object.getOwnPropertyDescriptor(G.prototype,"isInputsValid"),G.prototype),Object(v.a)(G.prototype,"handleNumericalInput",[O.a],Object.getOwnPropertyDescriptor(G.prototype,"handleNumericalInput"),G.prototype),Object(v.a)(G.prototype,"downloadFont",[O.a],Object.getOwnPropertyDescriptor(G.prototype,"downloadFont"),G.prototype),G),K=a(14),Z=a.n(K);var Q=function(t){var e=t.charSet.map((function(e){var a,n,r=null!==(a=e.width)&&void 0!==a?a:t.defaultWidth,o=null!==(n=e.height)&&void 0!==n?n:t.defaultHeight;return Object(i.jsxs)("div",{className:Z.a.characterContainer,children:[Object(i.jsx)("p",{className:Z.a.character,children:e.character}),Object(i.jsx)("input",{className:"".concat(Z.a.input," ").concat(r<=0?Z.a.inputInvalid:""),type:"number",value:r,onChange:function(a){return t.handleDimensionChange(a,"width",e)}}),Object(i.jsx)(X,{icon:"fas fa-times",className:Z.a.times}),Object(i.jsx)("input",{className:"".concat(Z.a.input," ").concat(o<=0?Z.a.inputInvalid:""),type:"number",value:o,onChange:function(a){return t.handleDimensionChange(a,"height",e)}}),e.height||e.width||r<=0||o<=0?Object(i.jsx)("span",{className:Z.a.buttonContainer,children:Object(i.jsx)("button",{onClick:function(){return t.resetCharacterDimensions(e)},className:Z.a.button,children:Object(i.jsx)(X,{icon:"fas fa-undo",className:Z.a.undoButton})})}):null]},e.character)}));return Object(i.jsx)("div",{className:Z.a.container,children:e})};function $(){return($=Object(p.a)(h.a.mark((function t(e){var a;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.generateImageBlob();case 2:return t.t0=t.sent,t.t1={name:"template.png",input:t.t0},t.t2={name:"template code.txt",input:e.generateTemplateCode()},a=[t.t1,t.t2],t.abrupt("return",H("calligro-template",a));case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var tt,et=a(2),at=a.n(et),nt=a(16),it=(tt=function(t){Object(j.a)(a,t);var e=Object(g.a)(a);function a(t){var n;return Object(f.a)(this,a),(n=e.call(this,t)).state=n.setInitialState(),n}return Object(b.a)(a,[{key:"setInitialState",value:function(){var t,e,a,n,i=window.localStorage.getItem("settings"),r=i?JSON.parse(i):null;return{charSet:null!==(t=null===r||void 0===r?void 0:r.charSet)&&void 0!==t?t:this.createCharArray(),defaultWidth:null!==(e=null===r||void 0===r?void 0:r.defaultWidth)&&void 0!==e?e:20,defaultHeight:null!==(a=null===r||void 0===r?void 0:r.defaultHeight)&&void 0!==a?a:20,base:null!==(n=null===r||void 0===r?void 0:r.base)&&void 0!==n?n:10}}},{key:"componentDidUpdate",value:function(t,e){e!==this.state&&window.localStorage.setItem("settings",JSON.stringify(this.state))}},{key:"createCharArray",value:function(){return Array.from("AaBbCcDdEeFfGgHhIiJjKkLlMmNnOoPpQqRrSsTtUuVvWwXxYyZz.?!,:",(function(t){return{character:t}}))}},{key:"handleCharSetInput",value:function(t){var e=this,a=t.target.value.split("").filter((function(t){return" "!==t})),n=new Set(a).size===a.length;if(t.preventDefault(),n){var i=a.map((function(t){var a;return null!==(a=e.state.charSet.find((function(e){return e.character===t})))&&void 0!==a?a:{character:t}}));this.setState({charSet:i})}}},{key:"isSlotArrayValid",value:function(){return this.slotArray.every((function(t){return t.height>0&&t.width>0}))}},{key:"isBaseValid",value:function(){return this.state.base<=this.state.defaultHeight&&this.state.base>=0}},{key:"handleDefaultValueChange",value:function(t,e){var a=t.target.value?parseInt(t.target.value,10):0;this.setState((function(t){return Object(m.a)(Object(m.a)({},t),{},Object(d.a)({},e,a))}))}},{key:"handleDimensionChange",value:function(t,e,a){var n=t.target.value?parseInt(t.target.value,10):0,i=this.state.charSet.map((function(t){return t===a?Object(m.a)(Object(m.a)({},t),{},Object(d.a)({},e,n)):t}));this.setState({charSet:i})}},{key:"resetCharacterDimensions",value:function(t){var e=this.state.charSet.map((function(e){return t===e?{character:e.character}:e}));this.setState({charSet:e})}},{key:"downloadTemplate",value:function(){!function(t){$.apply(this,arguments)}(new D(this.slotArray,this.state.base))}},{key:"render",value:function(){var t=this;return Object(i.jsxs)("div",{className:at.a.container,children:[Object(i.jsxs)("div",{children:[Object(i.jsxs)("div",{children:[Object(i.jsxs)("h2",{className:at.a.heading,children:["Generate bitmap fonts in the ",Object(i.jsx)("a",{href:"http://www.angelcode.com/products/bmfont/doc/file_format.html",className:at.a.link,children:"BMFont"})," format."]}),Object(i.jsx)("p",{className:at.a.paragraph,children:"Calligro lets you generate custom fonts from images created in graphics software like Gimp, Photoshop, Aseprite and others."}),Object(i.jsxs)("p",{className:at.a.paragraph,children:["If you\u2019re looking to convert a truetype font into a BMFont, try tools like the original ",Object(i.jsx)("a",{href:"http://www.angelcode.com/products/bmfont/",className:at.a.link,children:"BMFont"})," or ",Object(i.jsx)("a",{href:"https://github.com/libgdx/libgdx/wiki/Hiero",className:at.a.link,children:"Hiero"})," instead."]})]}),Object(i.jsxs)("div",{children:[Object(i.jsxs)("label",{className:at.a.label,children:["Characters",Object(i.jsx)(X,{icon:"fas fa-question",className:at.a.questionMark,title:"Characters you want to be included in the final font (all unicode characters should work)"})]}),Object(i.jsx)("textarea",{className:at.a.charactersTextArea,onChange:this.handleCharSetInput,value:this.charString})]}),Object(i.jsxs)("div",{className:at.a.parameters,children:[Object(i.jsxs)("div",{children:[Object(i.jsxs)("div",{children:[Object(i.jsx)("label",{className:at.a.label,children:"Common"}),Object(i.jsx)("label",{className:at.a.commonLabel,children:"Size"}),Object(i.jsx)("input",{className:at.a.commonInput,type:"number",onChange:function(e){return t.handleDefaultValueChange(e,"defaultWidth")},value:this.state.defaultWidth}),Object(i.jsx)(X,{icon:"fas fa-times",className:at.a.times}),Object(i.jsx)("input",{className:at.a.commonInput,type:"number",onChange:function(e){return t.handleDefaultValueChange(e,"defaultHeight")},value:this.state.defaultHeight}),Object(i.jsx)(X,{icon:"fas fa-question",className:at.a.questionMark,title:"Default size of one character in pixels"})]}),Object(i.jsxs)("div",{children:[Object(i.jsx)("label",{className:at.a.commonLabel,children:"Base"}),Object(i.jsx)("input",{className:"".concat(at.a.commonInput," ").concat(this.isBaseValid()?"":at.a.commonInputIvalid),type:"number",onChange:function(e){return t.handleDefaultValueChange(e,"base")},value:this.state.base}),Object(i.jsx)(X,{icon:"fas fa-question",className:at.a.questionMark,title:'Distance from the top of the letter to the line base in pixels (character parts below this will stick out like in "g" or "j")'})]}),Object(i.jsx)("button",{onClick:this.downloadTemplate,className:at.a.downloadButton,disabled:!this.isSlotArrayValid()||!this.isBaseValid(),children:"download template"})]}),Object(i.jsxs)("div",{children:[Object(i.jsxs)("label",{className:at.a.label,children:["Per character",Object(i.jsx)(X,{icon:"fas fa-question",className:at.a.questionMark,title:"Override default size per character"})]}),Object(i.jsx)(Q,{charSet:this.state.charSet,defaultHeight:this.state.defaultHeight,defaultWidth:this.state.defaultWidth,handleDimensionChange:this.handleDimensionChange,resetCharacterDimensions:this.resetCharacterDimensions})]})]})]}),Object(i.jsxs)("div",{children:[Object(i.jsx)("h2",{className:at.a.heading,children:"Step 1 - Create a template"}),Object(i.jsxs)("ol",{className:at.a.instructionList,children:[Object(i.jsx)("li",{className:at.a.instructionListItem,children:" Specify what characters you want included in the final font. "}),Object(i.jsx)("li",{className:at.a.instructionListItem,children:"Choose the character size and base."}),Object(i.jsx)("li",{className:at.a.instructionListItem,children:"Optionally override the size per character if you want some to be smaller or bigger than the rest."}),Object(i.jsx)("li",{className:at.a.instructionListItem,children:"Download the generated template. It\u2019s a zip archive containing two files: png and txt. Open the png in your graphics editor of choice and draw characters inside the red boundaries."}),Object(i.jsxs)("li",{className:at.a.instructionListItem,children:["Go to ",Object(i.jsx)(nt.b,{to:"/step2",className:at.a.link,children:"Step 2"})," to upload the template and generate your font."]})]})]})]})}},{key:"slotArray",get:function(){var t=this;return this.state.charSet.map((function(e){var a,n;return{character:e.character,width:null!==(a=e.width)&&void 0!==a?a:t.state.defaultWidth,height:null!==(n=e.height)&&void 0!==n?n:t.state.defaultHeight}}))}},{key:"charString",get:function(){return this.state.charSet.map((function(t){return t.character})).join("")}}]),a}(r.Component),Object(v.a)(tt.prototype,"handleCharSetInput",[O.a],Object.getOwnPropertyDescriptor(tt.prototype,"handleCharSetInput"),tt.prototype),Object(v.a)(tt.prototype,"isSlotArrayValid",[O.a],Object.getOwnPropertyDescriptor(tt.prototype,"isSlotArrayValid"),tt.prototype),Object(v.a)(tt.prototype,"isBaseValid",[O.a],Object.getOwnPropertyDescriptor(tt.prototype,"isBaseValid"),tt.prototype),Object(v.a)(tt.prototype,"handleDefaultValueChange",[O.a],Object.getOwnPropertyDescriptor(tt.prototype,"handleDefaultValueChange"),tt.prototype),Object(v.a)(tt.prototype,"handleDimensionChange",[O.a],Object.getOwnPropertyDescriptor(tt.prototype,"handleDimensionChange"),tt.prototype),Object(v.a)(tt.prototype,"resetCharacterDimensions",[O.a],Object.getOwnPropertyDescriptor(tt.prototype,"resetCharacterDimensions"),tt.prototype),Object(v.a)(tt.prototype,"downloadTemplate",[O.a],Object.getOwnPropertyDescriptor(tt.prototype,"downloadTemplate"),tt.prototype),tt),rt=a(6),ot=a(15),st=a.n(ot);var ct=function(){return Object(i.jsxs)("nav",{className:st.a.container,children:[Object(i.jsxs)(nt.c,{exact:!0,to:"/",className:"".concat(st.a.navLink," ").concat(st.a.navLinkLeft),activeClassName:st.a.navLinkActive,children:[Object(i.jsx)("p",{className:st.a.linkBig,children:"Step 1"}),Object(i.jsx)("p",{className:st.a.linkSmall,children:"create a template"})]}),Object(i.jsxs)(nt.c,{to:"/step2",className:"".concat(st.a.navLink," ").concat(st.a.navLinkRight),activeClassName:st.a.navLinkActive,children:[Object(i.jsx)("p",{className:st.a.linkBig,children:"Step 2"}),Object(i.jsx)("p",{className:st.a.linkSmall,children:"generate your font"})]})]})},lt=a(36),ht=a.n(lt),ut=a(40),pt=a.n(ut);var dt=function(){return Object(i.jsxs)("div",{className:ht.a.container,children:[Object(i.jsx)("img",{src:"logo.svg",alt:"logo",className:ht.a.logo}),Object(i.jsx)(ct,{}),Object(i.jsx)(pt.a,{href:"https://github.com/Voycawojka/calligro",size:"110"})]})},mt=a(27),ft=a.n(mt);var bt=function(t){var e=t.socialLinks.map((function(t){return Object(i.jsx)("a",{className:ft.a.socialLink,href:t.url,children:Object(i.jsx)(X,{icon:t.icon,className:ft.a.icon})},t.url)}));return Object(i.jsxs)("div",{className:ft.a.container,children:[Object(i.jsx)("h3",{className:ft.a.name,children:t.name}),Object(i.jsx)("div",{className:ft.a.socialContainer,children:e})]})},jt=a(21),gt=a.n(jt);var vt=function(){return Object(i.jsxs)("footer",{className:gt.a.container,children:[Object(i.jsx)(nt.b,{to:"/policy",className:"".concat(gt.a.policy," ").concat(gt.a.link),children:"Cookie policy"}),Object(i.jsxs)("div",{className:gt.a.authors,children:[Object(i.jsx)(bt,{name:"Filip A. Kowalski",socialLinks:[{url:"http://ideasalmanac.com",icon:"fa fa-globe-africa"},{url:"https://twitter.com/IdeasAlmanac",icon:"fab fa-twitter"},{url:"https://github.com/Voycawojka",icon:"fab fa-github"}]}),Object(i.jsx)(bt,{name:"Dominik J\xf3zefiak",socialLinks:[{url:"https://github.com/domlj",icon:"fab fa-github"}]})]}),Object(i.jsxs)("div",{className:gt.a.linkContainer,children:[Object(i.jsx)("a",{href:"https://github.com/Voycawojka/calligro/issues",className:gt.a.link,children:"Found a bug?"}),Object(i.jsx)("a",{href:"https://github.com/Voycawojka/calligro/issues",className:gt.a.link,children:"Have a feature request?"})]})]})};var Ot=function(){return Object(i.jsxs)("div",{children:[Object(i.jsx)("p",{children:"content"}),Object(i.jsx)(nt.b,{to:"/",children:"back to menu"})]})};var yt=function(){return Object(i.jsx)(nt.a,{children:Object(i.jsxs)(rt.c,{children:[Object(i.jsx)(rt.a,{path:"/policy",children:Object(i.jsx)(Ot,{})}),Object(i.jsxs)(rt.a,{children:[Object(i.jsx)(dt,{}),Object(i.jsx)(rt.a,{exact:!0,path:"/",children:Object(i.jsx)(it,{})}),Object(i.jsx)(rt.a,{exact:!0,path:"/step2",children:Object(i.jsx)(Y,{})}),Object(i.jsx)(vt,{})]})]})})},xt=function(t){t&&t instanceof Function&&a.e(3).then(a.bind(null,59)).then((function(e){var a=e.getCLS,n=e.getFID,i=e.getFCP,r=e.getLCP,o=e.getTTFB;a(t),n(t),i(t),r(t),o(t)}))};c.a.render(Object(i.jsx)(o.a.StrictMode,{children:Object(i.jsx)(yt,{})}),document.getElementById("root")),xt()}},[[58,1,2]]]);
//# sourceMappingURL=main.894718fe.chunk.js.map